(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var bd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function KA(){if(dy)return ml;dy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return ml.Fragment=t,ml.jsx=n,ml.jsxs=n,ml}var my;function QA(){return my||(my=1,bd.exports=KA()),bd.exports}var Z=QA(),wd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function YA(){if(py)return St;py=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function Q(O,W,ot){this.props=O,this.context=W,this.refs=$,this.updater=ot||V}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=Q.prototype;function ft(O,W,ot){this.props=O,this.context=W,this.refs=$,this.updater=ot||V}var _t=ft.prototype=new ut;_t.constructor=ft,j(_t,Q.prototype),_t.isPureReactComponent=!0;var Lt=Array.isArray,vt={H:null,A:null,T:null,S:null},Ct=Object.prototype.hasOwnProperty;function P(O,W,ot,et,nt,bt){return ot=bt.ref,{$$typeof:r,type:O,key:W,ref:ot!==void 0?ot:null,props:bt}}function I(O,W){return P(O.type,W,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function D(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ot){return W[ot]})}var k=/\/+/g;function x(O,W){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):W.toString(36)}function C(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function he(O,W,ot,et,nt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var At=!1;if(O===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(O.$$typeof){case r:case t:At=!0;break;case A:return At=O._init,he(At(O._payload),W,ot,et,nt)}}if(At)return nt=nt(O),At=et===""?"."+x(O,0):et,Lt(nt)?(ot="",At!=null&&(ot=At.replace(k,"$&/")+"/"),he(nt,W,ot,"",function(ie){return ie})):nt!=null&&(S(nt)&&(nt=I(nt,ot+(nt.key==null||O&&O.key===nt.key?"":(""+nt.key).replace(k,"$&/")+"/")+At)),W.push(nt)),1;At=0;var fe=et===""?".":et+":";if(Lt(O))for(var xt=0;xt<O.length;xt++)et=O[xt],bt=fe+x(et,xt),At+=he(et,W,ot,bt,nt);else if(xt=R(O),typeof xt=="function")for(O=xt.call(O),xt=0;!(et=O.next()).done;)et=et.value,bt=fe+x(et,xt++),At+=he(et,W,ot,bt,nt);else if(bt==="object"){if(typeof O.then=="function")return he(ye(O),W,ot,et,nt);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return At}function tt(O,W,ot){if(O==null)return O;var et=[],nt=0;return he(O,et,"","",function(bt){return W.call(ot,bt,nt++)}),et}function mt(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ot){(O._status===0||O._status===-1)&&(O._status=1,O._result=ot)},function(ot){(O._status===0||O._status===-1)&&(O._status=2,O._result=ot)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ct=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qt(){}return St.Children={map:tt,forEach:function(O,W,ot){tt(O,function(){W.apply(this,arguments)},ot)},count:function(O){var W=0;return tt(O,function(){W++}),W},toArray:function(O){return tt(O,function(W){return W})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},St.Component=Q,St.Fragment=n,St.Profiler=o,St.PureComponent=ft,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cloneElement=function(O,W,ot){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=j({},O.props),nt=O.key,bt=void 0;if(W!=null)for(At in W.ref!==void 0&&(bt=void 0),W.key!==void 0&&(nt=""+W.key),W)!Ct.call(W,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&W.ref===void 0||(et[At]=W[At]);var At=arguments.length-2;if(At===1)et.children=ot;else if(1<At){for(var fe=Array(At),xt=0;xt<At;xt++)fe[xt]=arguments[xt+2];et.children=fe}return P(O.type,nt,void 0,void 0,bt,et)},St.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,W,ot){var et,nt={},bt=null;if(W!=null)for(et in W.key!==void 0&&(bt=""+W.key),W)Ct.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=W[et]);var At=arguments.length-2;if(At===1)nt.children=ot;else if(1<At){for(var fe=Array(At),xt=0;xt<At;xt++)fe[xt]=arguments[xt+2];nt.children=fe}if(O&&O.defaultProps)for(et in At=O.defaultProps,At)nt[et]===void 0&&(nt[et]=At[et]);return P(O,bt,void 0,void 0,null,nt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:p,render:O}},St.isValidElement=S,St.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:mt}},St.memo=function(O,W){return{$$typeof:_,type:O,compare:W===void 0?null:W}},St.startTransition=function(O){var W=vt.T,ot={};vt.T=ot;try{var et=O(),nt=vt.S;nt!==null&&nt(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,ct)}catch(bt){ct(bt)}finally{vt.T=W}},St.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},St.use=function(O){return vt.H.use(O)},St.useActionState=function(O,W,ot){return vt.H.useActionState(O,W,ot)},St.useCallback=function(O,W){return vt.H.useCallback(O,W)},St.useContext=function(O){return vt.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,W){return vt.H.useDeferredValue(O,W)},St.useEffect=function(O,W){return vt.H.useEffect(O,W)},St.useId=function(){return vt.H.useId()},St.useImperativeHandle=function(O,W,ot){return vt.H.useImperativeHandle(O,W,ot)},St.useInsertionEffect=function(O,W){return vt.H.useInsertionEffect(O,W)},St.useLayoutEffect=function(O,W){return vt.H.useLayoutEffect(O,W)},St.useMemo=function(O,W){return vt.H.useMemo(O,W)},St.useOptimistic=function(O,W){return vt.H.useOptimistic(O,W)},St.useReducer=function(O,W,ot){return vt.H.useReducer(O,W,ot)},St.useRef=function(O){return vt.H.useRef(O)},St.useState=function(O){return vt.H.useState(O)},St.useSyncExternalStore=function(O,W,ot){return vt.H.useSyncExternalStore(O,W,ot)},St.useTransition=function(){return vt.H.useTransition()},St.version="19.0.0",St}var gy;function mm(){return gy||(gy=1,wd.exports=YA()),wd.exports}var Wt=mm(),Rd={exports:{}},pl={},Id={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function XA(){return _y||(_y=1,function(r){function t(tt,mt){var ct=tt.length;tt.push(mt);t:for(;0<ct;){var qt=ct-1>>>1,O=tt[qt];if(0<o(O,mt))tt[qt]=mt,tt[ct]=O,ct=qt;else break t}}function n(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var mt=tt[0],ct=tt.pop();if(ct!==mt){tt[0]=ct;t:for(var qt=0,O=tt.length,W=O>>>1;qt<W;){var ot=2*(qt+1)-1,et=tt[ot],nt=ot+1,bt=tt[nt];if(0>o(et,ct))nt<O&&0>o(bt,et)?(tt[qt]=bt,tt[nt]=ct,qt=nt):(tt[qt]=et,tt[ot]=ct,qt=ot);else if(nt<O&&0>o(bt,ct))tt[qt]=bt,tt[nt]=ct,qt=nt;else break t}}return mt}function o(tt,mt){var ct=tt.sortIndex-mt.sortIndex;return ct!==0?ct:tt.id-mt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],A=1,w=null,R=3,V=!1,j=!1,$=!1,Q=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function _t(tt){for(var mt=n(_);mt!==null;){if(mt.callback===null)s(_);else if(mt.startTime<=tt)s(_),mt.sortIndex=mt.expirationTime,t(g,mt);else break;mt=n(_)}}function Lt(tt){if($=!1,_t(tt),!j)if(n(g)!==null)j=!0,ye();else{var mt=n(_);mt!==null&&he(Lt,mt.startTime-tt)}}var vt=!1,Ct=-1,P=5,I=-1;function S(){return!(r.unstable_now()-I<P)}function D(){if(vt){var tt=r.unstable_now();I=tt;var mt=!0;try{t:{j=!1,$&&($=!1,ut(Ct),Ct=-1),V=!0;var ct=R;try{e:{for(_t(tt),w=n(g);w!==null&&!(w.expirationTime>tt&&S());){var qt=w.callback;if(typeof qt=="function"){w.callback=null,R=w.priorityLevel;var O=qt(w.expirationTime<=tt);if(tt=r.unstable_now(),typeof O=="function"){w.callback=O,_t(tt),mt=!0;break e}w===n(g)&&s(g),_t(tt)}else s(g);w=n(g)}if(w!==null)mt=!0;else{var W=n(_);W!==null&&he(Lt,W.startTime-tt),mt=!1}}break t}finally{w=null,R=ct,V=!1}mt=void 0}}finally{mt?k():vt=!1}}}var k;if(typeof ft=="function")k=function(){ft(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,C=x.port2;x.port1.onmessage=D,k=function(){C.postMessage(null)}}else k=function(){Q(D,0)};function ye(){vt||(vt=!0,k())}function he(tt,mt){Ct=Q(function(){tt(r.unstable_now())},mt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(tt){tt.callback=null},r.unstable_continueExecution=function(){j||V||(j=!0,ye())},r.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<tt?Math.floor(1e3/tt):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(tt){switch(R){case 1:case 2:case 3:var mt=3;break;default:mt=R}var ct=R;R=mt;try{return tt()}finally{R=ct}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(tt,mt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ct=R;R=tt;try{return mt()}finally{R=ct}},r.unstable_scheduleCallback=function(tt,mt,ct){var qt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?qt+ct:qt):ct=qt,tt){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ct+O,tt={id:A++,callback:mt,priorityLevel:tt,startTime:ct,expirationTime:O,sortIndex:-1},ct>qt?(tt.sortIndex=ct,t(_,tt),n(g)===null&&tt===n(_)&&($?(ut(Ct),Ct=-1):$=!0,he(Lt,ct-qt))):(tt.sortIndex=O,t(g,tt),j||V||(j=!0,ye())),tt},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(tt){var mt=R;return function(){var ct=R;R=mt;try{return tt.apply(this,arguments)}finally{R=ct}}}}(Cd)),Cd}var yy;function $A(){return yy||(yy=1,Id.exports=XA()),Id.exports}var Dd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function WA(){if(vy)return Ke;vy=1;var r=mm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:_,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},Ke.flushSync=function(g){var _=f.T,A=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=A,s.d.f()}},Ke.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,V=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:V}):A==="script"&&s.d.X(g,{crossOrigin:w,integrity:R,fetchPriority:V,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Ke.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin);s.d.L(g,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,_){return g(_)},Ke.useFormState=function(g,_,A){return f.H.useFormState(g,_,A)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var Ey;function ZA(){if(Ey)return Dd.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=WA(),Dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function JA(){if(Ty)return pl;Ty=1;var r=$A(),t=mm(),n=ZA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),_t=Symbol.for("react.offscreen"),Lt=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function Ct(e){return e===null||typeof e!="object"?null:(e=vt&&e[vt]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case p:return"Portal";case A:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case j:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ut:return i=e.displayName||null,i!==null?i:I(e.type)||"Memo";case ft:i=e._payload,e=e._init;try{return I(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,k,x;function C(e){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",x=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+e+x}var ye=!1;function he(e,i){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),M=E.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===M.length)for(l=b.length-1,h=M.length-1;1<=l&&0<=h&&b[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==M[h]){var F=`
`+b[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?C(a):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function mt(e){try{var i="";do i+=tt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ct(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function qt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function O(e){if(ct(e)!==e)throw Error(s(188))}function W(e){var i=e.alternate;if(!i){if(i=ct(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),e;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ot(e),i!==null)return i;e=e.sibling}return null}var et=Array.isArray,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],fe=-1;function xt(e){return{current:e}}function ie(e){0>fe||(e.current=At[fe],At[fe]=null,fe--)}function Gt(e,i){fe++,At[fe]=e.current,e.current=i}var Ze=xt(null),pi=xt(null),vn=xt(null),tr=xt(null);function er(e,i){switch(Gt(vn,i),Gt(pi,e),Gt(Ze,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?q_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=q_(e),i=H_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(Ze),Gt(Ze,i)}function gi(){ie(Ze),ie(pi),ie(vn)}function lo(e){e.memoizedState!==null&&Gt(tr,e);var i=Ze.current,a=H_(i,e.type);i!==a&&(Gt(pi,e),Gt(Ze,a))}function Ys(e){pi.current===e&&(ie(Ze),ie(pi)),tr.current===e&&(ie(tr),ul._currentValue=bt)}var Xs=Object.prototype.hasOwnProperty,ss=r.unstable_scheduleCallback,$s=r.unstable_cancelCallback,wh=r.unstable_shouldYield,uo=r.unstable_requestPaint,sn=r.unstable_now,$l=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Wl=r.unstable_LowPriority,co=r.unstable_IdlePriority,Rh=r.log,as=r.unstable_setDisableYieldValue,nr=null,Fe=null;function ho(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(nr,e,void 0,(e.current.flags&128)===128)}catch{}}function Kn(e){if(typeof Rh=="function"&&as(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(nr,e)}catch{}}var Je=Math.clz32?Math.clz32:Jl,fo=Math.log,Zl=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(fo(e)/Zl|0)|0}var Qn=128,ir=4194304;function xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=xn(a):(d&=E,d!==0?l=xn(d):e||(v=E&~v,v!==0&&(l=xn(v))))):(E=a&~h,E!==0?l=xn(E):d!==0?l=xn(d):e||(v=a&~v,v!==0&&(l=xn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function rr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ws(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var e=Qn;return Qn<<=1,!(Qn&4194176)&&(Qn=128),e}function sr(){var e=ir;return ir<<=1,!(ir&62914560)&&(ir=4194304),e}function Zs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function le(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,M=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Je(a),X=1<<F;E[F]=0,b[F]=-1;var B=M[F];if(B!==null)for(M[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&ar(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function ar(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function or(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Je(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function eu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function nu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:oy(e.type))}function lr(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Yn=Math.random().toString(36).slice(2),De="__reactFiber$"+Yn,Ee="__reactProps$"+Yn,yi="__reactContainer$"+Yn,os="__reactEvents$"+Yn,Js="__reactListeners$"+Yn,Xn="__reactHandles$"+Yn,po="__reactResources$"+Yn,ur="__reactMarker$"+Yn;function ls(e){delete e[De],delete e[Ee],delete e[os],delete e[Js],delete e[Xn]}function zn(e){var i=e[De];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yi]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=K_(e);e!==null;){if(a=e[De])return a;e=K_(e)}return i}e=a,a=e.parentNode}return null}function vi(e){if(e=e[De]||e[yi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function cr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hr(e){var i=e[po];return i||(i=e[po]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(e){e[ur]=!0}var go=new Set,ta={};function hn(e,i){an(e,i),an(e+"Capture",i)}function an(e,i){for(ta[e]=i,e=0;e<i.length;e++)go.add(i[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},yo={};function iu(e){return Xs.call(yo,e)?!0:Xs.call(_o,e)?!1:Ih.test(e)?yo[e]=!0:(_o[e]=!0,!1)}function fr(e,i,a){if(iu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ru(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ch(e){var i=ru(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function us(e){e._valueTracker||(e._valueTracker=Ch(e))}function vo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ru(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function re(e){return e.replace(Ei,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mr(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?na(e,v,tn(i)):a!=null?na(e,v,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function cs(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function na(e,i,a){i==="number"&&ea(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function hs(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function pr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Dh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function su(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Eo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eo(e,d,i[d])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $n(e){return Nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Sn=null;function ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function Si(e){var i=vi(e);if(i&&(e=i.stateNode)){var a=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(mr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ee]||null;if(!h)throw Error(s(90));mr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vo(l)}break t;case"textarea":hs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var Ao=!1;function au(e,i,a){if(Ao)return e(i,a);Ao=!0;try{var l=e(i);return l}finally{if(Ao=!1,(Ti!==null||Ai!==null)&&(Wu(),Ti&&(i=Ti,e=Ai,Ai=Ti=null,Si(i),e)))for(i=0;i<e.length;i++)Si(e[i])}}function fs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!1;if(fn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{bn=!1}var Wn=null,gr=null,bi=null;function So(){if(bi)return bi;var e,i=gr,a=i.length,l,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Zn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function bo(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:bo,this.isPropagationStopped=bo,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Oe(Ht),ms=D({},Ht,{view:0,detail:0}),ou=Oe(ms),sa,aa,ti,ps=D({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(sa=e.screenX-ti.screenX,aa=e.screenY-ti.screenY):aa=sa=0,ti=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),wn=Oe(ps),lu=D({},ps,{dataTransfer:0}),Vh=Oe(lu),gs=D({},ms,{relatedTarget:0}),oa=Oe(gs),wo=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),la=Oe(wo),uu=D({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ua=Oe(uu),Mh=D({},Ht,{data:0}),Ro=Oe(Mh),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=hu[e])?!!i[e]:!1}function ys(){return Io}var fu=D({},ms,{key:function(e){if(e.key){var i=_s[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ca=Oe(fu),du=D({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Oe(du),wi=D({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),mu=Oe(wi),pu=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=Oe(pu),_u=D({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Oe(_u),en=D({},Ht,{newState:0,oldState:0}),yu=Oe(en),vu=[9,13,27,32],ei=fn&&"CompositionEvent"in window,u=null;fn&&"documentMode"in document&&(u=document.documentMode);var m=fn&&"TextEvent"in window&&!u,y=fn&&(!ei||u&&8<u&&11>=u),T=" ",L=!1;function q(e,i){switch(e){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Te(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(L=!0,T);case"textInput":return e=i.data,e===T&&L?null:e;default:return null}}function kt(e,i){if(Mt)return e==="compositionend"||!ei&&q(e,i)?(e=So(),bi=gr=Wn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ri(e,i,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,i=nc(i,"onChange"),0<i.length&&(a=new ra("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Le=null,ni=null;function Do(e){L_(e,0)}function Eu(e){var i=cr(e);if(vo(i))return e}function fp(e,i){if(e==="change")return i}var dp=!1;if(fn){var kh;if(fn){var Ph="oninput"in document;if(!Ph){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Ph=typeof mp.oninput=="function"}kh=Ph}else kh=!1;dp=kh&&(!document.documentMode||9<document.documentMode)}function pp(){Le&&(Le.detachEvent("onpropertychange",gp),ni=Le=null)}function gp(e){if(e.propertyName==="value"&&Eu(ni)){var i=[];Ri(i,ni,e,ia(e)),au(Do,i)}}function A0(e,i,a){e==="focusin"?(pp(),Le=i,ni=a,Le.attachEvent("onpropertychange",gp)):e==="focusout"&&pp()}function S0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(ni)}function b0(e,i){if(e==="click")return Eu(i)}function w0(e,i){if(e==="input"||e==="change")return Eu(i)}function R0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:R0;function Oo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Xs.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,i){var a=_p(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_p(a)}}function vp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?vp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ea(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ea(e.document)}return i}function Uh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function I0(e,i){var a=Ep(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&vp(i.ownerDocument.documentElement,i)){if(l!==null&&Uh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=yp(i,d);var v=yp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var C0=fn&&"documentMode"in document&&11>=document.documentMode,fa=null,Lh=null,No=null,xh=!1;function Tp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||fa==null||fa!==ea(l)||(l=fa,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&Oo(No,l)||(No=l,l=nc(Lh,"onSelect"),0<l.length&&(i=new ra("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=fa)))}function vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},zh={},Ap={};fn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Es(e){if(zh[e])return zh[e];if(!da[e])return e;var i=da[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ap)return zh[e]=i[a];return e}var Sp=Es("animationend"),bp=Es("animationiteration"),wp=Es("animationstart"),D0=Es("transitionrun"),O0=Es("transitionstart"),N0=Es("transitioncancel"),Rp=Es("transitionend"),Ip=new Map,Cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(e,i){Ip.set(e,i),hn(i,[e])}var Rn=[],ma=0,Bh=0;function Tu(){for(var e=ma,i=Bh=ma=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dp(a,h,d)}}function Au(e,i,a,l){Rn[ma++]=e,Rn[ma++]=i,Rn[ma++]=a,Rn[ma++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,i,a,l){return Au(e,i,a,l),Su(e)}function _r(e,i){return Au(e,null,null,i),Su(e)}function Dp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Je(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Su(e){if(50<nl)throw nl=0,Yf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={},Op=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=Op.get(e);return a!==void 0?a:(i={value:e,source:i,stack:mt(i)},Op.set(e,i),i)}return{value:e,source:i,stack:mt(i)}}var ga=[],_a=0,bu=null,wu=0,Cn=[],Dn=0,Ts=null,Ii=1,Ci="";function As(e,i){ga[_a++]=wu,ga[_a++]=bu,bu=e,wu=i}function Np(e,i,a){Cn[Dn++]=Ii,Cn[Dn++]=Ci,Cn[Dn++]=Ts,Ts=e;var l=Ii;e=Ci;var h=32-Je(l)-1;l&=~(1<<h),a+=1;var d=32-Je(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-Je(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function qh(e){e.return!==null&&(As(e,1),Np(e,1,0))}function Hh(e){for(;e===bu;)bu=ga[--_a],ga[_a]=null,wu=ga[--_a],ga[_a]=null;for(;e===Ts;)Ts=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null,Ii=Cn[--Dn],Cn[Dn]=null}var nn=null,xe=null,Bt=!1,jn=null,ii=!1,Fh=Error(s(519));function Ss(e){var i=Error(s(418,""));throw ko(In(i,e)),Fh}function Vp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[De]=e,i[Ee]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)Nt(rl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),cs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),us(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),pr(i,l.value,l.defaultValue,l.children),us(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||j_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=ic),i=!0):i=!1,i||Ss(e)}function Mp(e){for(nn=e.return;nn;)switch(nn.tag){case 3:case 27:ii=!0;return;case 5:case 13:ii=!1;return;default:nn=nn.return}}function Vo(e){if(e!==nn)return!1;if(!Bt)return Mp(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&xe&&Ss(e),Mp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){xe=Hn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}xe=null}}else xe=nn?Hn(e.stateNode.nextSibling):null;return!0}function Mo(){xe=nn=null,Bt=!1}function ko(e){jn===null?jn=[e]:jn.push(e)}var Po=Error(s(460)),kp=Error(s(474)),Gh={then:function(){}};function Pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function Up(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Po?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Po?Error(s(483)):e}throw Uo=i,Po}}var Uo=null;function Lp(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}var ya=null,Lo=0;function Iu(e){var i=Lo;return Lo+=1,ya===null&&(ya=[]),Up(ya,e,i)}function xo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Cu(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function xp(e){var i=e._init;return i(e._payload)}function zp(e){function i(U,N){if(e){var z=U.deletions;z===null?(U.deletions=[N],U.flags|=16):z.push(N)}}function a(U,N){if(!e)return null;for(;N!==null;)i(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Dr(U,N),U.index=0,U.sibling=null,U}function d(U,N,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<N?(U.flags|=33554434,N):z):(U.flags|=33554434,N)):(U.flags|=1048576,N)}function v(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,N,z,G){return N===null||N.tag!==6?(N=Bf(z,U.mode,G),N.return=U,N):(N=h(N,z),N.return=U,N)}function b(U,N,z,G){var st=z.type;return st===g?F(U,N,z.props.children,G,z.key):N!==null&&(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===ft&&xp(st)===N.type)?(N=h(N,z.props),xo(N,z),N.return=U,N):(N=Ku(z.type,z.key,z.props,null,U.mode,G),xo(N,z),N.return=U,N)}function M(U,N,z,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=jf(z,U.mode,G),N.return=U,N):(N=h(N,z.children||[]),N.return=U,N)}function F(U,N,z,G,st){return N===null||N.tag!==7?(N=Ms(z,U.mode,G,st),N.return=U,N):(N=h(N,z),N.return=U,N)}function X(U,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bf(""+N,U.mode,z),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return z=Ku(N.type,N.key,N.props,null,U.mode,z),xo(z,N),z.return=U,z;case p:return N=jf(N,U.mode,z),N.return=U,N;case ft:var G=N._init;return N=G(N._payload),X(U,N,z)}if(et(N)||Ct(N))return N=Ms(N,U.mode,z,null),N.return=U,N;if(typeof N.then=="function")return X(U,Iu(N),z);if(N.$$typeof===V)return X(U,Hu(U,N),z);Cu(U,N)}return null}function B(U,N,z,G){var st=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(U,N,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return z.key===st?b(U,N,z,G):null;case p:return z.key===st?M(U,N,z,G):null;case ft:return st=z._init,z=st(z._payload),B(U,N,z,G)}if(et(z)||Ct(z))return st!==null?null:F(U,N,z,G,null);if(typeof z.then=="function")return B(U,N,Iu(z),G);if(z.$$typeof===V)return B(U,N,Hu(U,z),G);Cu(U,z)}return null}function H(U,N,z,G,st){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(N,U,""+G,st);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case f:return U=U.get(G.key===null?z:G.key)||null,b(N,U,G,st);case p:return U=U.get(G.key===null?z:G.key)||null,M(N,U,G,st);case ft:var Rt=G._init;return G=Rt(G._payload),H(U,N,z,G,st)}if(et(G)||Ct(G))return U=U.get(z)||null,F(N,U,G,st,null);if(typeof G.then=="function")return H(U,N,z,Iu(G),st);if(G.$$typeof===V)return H(U,N,z,Hu(N,G),st);Cu(N,G)}return null}function at(U,N,z,G){for(var st=null,Rt=null,lt=N,dt=N=0,ke=null;lt!==null&&dt<z.length;dt++){lt.index>dt?(ke=lt,lt=null):ke=lt.sibling;var jt=B(U,lt,z[dt],G);if(jt===null){lt===null&&(lt=ke);break}e&&lt&&jt.alternate===null&&i(U,lt),N=d(jt,N,dt),Rt===null?st=jt:Rt.sibling=jt,Rt=jt,lt=ke}if(dt===z.length)return a(U,lt),Bt&&As(U,dt),st;if(lt===null){for(;dt<z.length;dt++)lt=X(U,z[dt],G),lt!==null&&(N=d(lt,N,dt),Rt===null?st=lt:Rt.sibling=lt,Rt=lt);return Bt&&As(U,dt),st}for(lt=l(lt);dt<z.length;dt++)ke=H(lt,U,dt,z[dt],G),ke!==null&&(e&&ke.alternate!==null&&lt.delete(ke.key===null?dt:ke.key),N=d(ke,N,dt),Rt===null?st=ke:Rt.sibling=ke,Rt=ke);return e&&lt.forEach(function(Ur){return i(U,Ur)}),Bt&&As(U,dt),st}function Et(U,N,z,G){if(z==null)throw Error(s(151));for(var st=null,Rt=null,lt=N,dt=N=0,ke=null,jt=z.next();lt!==null&&!jt.done;dt++,jt=z.next()){lt.index>dt?(ke=lt,lt=null):ke=lt.sibling;var Ur=B(U,lt,jt.value,G);if(Ur===null){lt===null&&(lt=ke);break}e&&lt&&Ur.alternate===null&&i(U,lt),N=d(Ur,N,dt),Rt===null?st=Ur:Rt.sibling=Ur,Rt=Ur,lt=ke}if(jt.done)return a(U,lt),Bt&&As(U,dt),st;if(lt===null){for(;!jt.done;dt++,jt=z.next())jt=X(U,jt.value,G),jt!==null&&(N=d(jt,N,dt),Rt===null?st=jt:Rt.sibling=jt,Rt=jt);return Bt&&As(U,dt),st}for(lt=l(lt);!jt.done;dt++,jt=z.next())jt=H(lt,U,dt,jt.value,G),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?dt:jt.key),N=d(jt,N,dt),Rt===null?st=jt:Rt.sibling=jt,Rt=jt);return e&&lt.forEach(function(GA){return i(U,GA)}),Bt&&As(U,dt),st}function oe(U,N,z,G){if(typeof z=="object"&&z!==null&&z.type===g&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case f:t:{for(var st=z.key;N!==null;){if(N.key===st){if(st=z.type,st===g){if(N.tag===7){a(U,N.sibling),G=h(N,z.props.children),G.return=U,U=G;break t}}else if(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===ft&&xp(st)===N.type){a(U,N.sibling),G=h(N,z.props),xo(G,z),G.return=U,U=G;break t}a(U,N);break}else i(U,N);N=N.sibling}z.type===g?(G=Ms(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=Ku(z.type,z.key,z.props,null,U.mode,G),xo(G,z),G.return=U,U=G)}return v(U);case p:t:{for(st=z.key;N!==null;){if(N.key===st)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(U,N.sibling),G=h(N,z.children||[]),G.return=U,U=G;break t}else{a(U,N);break}else i(U,N);N=N.sibling}G=jf(z,U.mode,G),G.return=U,U=G}return v(U);case ft:return st=z._init,z=st(z._payload),oe(U,N,z,G)}if(et(z))return at(U,N,z,G);if(Ct(z)){if(st=Ct(z),typeof st!="function")throw Error(s(150));return z=st.call(z),Et(U,N,z,G)}if(typeof z.then=="function")return oe(U,N,Iu(z),G);if(z.$$typeof===V)return oe(U,N,Hu(U,z),G);Cu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(U,N.sibling),G=h(N,z),G.return=U,U=G):(a(U,N),G=Bf(z,U.mode,G),G.return=U,U=G),v(U)):a(U,N)}return function(U,N,z,G){try{Lo=0;var st=oe(U,N,z,G);return ya=null,st}catch(lt){if(lt===Po)throw lt;var Rt=Mn(29,lt,null,U.mode);return Rt.lanes=G,Rt.return=U,Rt}finally{}}}var bs=zp(!0),Bp=zp(!1),va=xt(null),Du=xt(0);function jp(e,i){e=zi,Gt(Du,e),Gt(va,i),zi=e|i.baseLanes}function Kh(){Gt(Du,zi),Gt(va,va.current)}function Qh(){zi=Du.current,ie(va),ie(Du)}var On=xt(null),ri=null;function yr(e){var i=e.alternate;Gt(Se,Se.current&1),Gt(On,e),ri===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(ri=e)}function qp(e){if(e.tag===22){if(Gt(Se,Se.current),Gt(On,e),ri===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ri=e)}}else vr()}function vr(){Gt(Se,Se.current),Gt(On,On.current)}function Di(e){ie(On),ri===e&&(ri=null),ie(Se)}var Se=xt(0);function Ou(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var V0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},M0=r.unstable_scheduleCallback,k0=r.unstable_NormalPriority,be={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new V0,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&M0(k0,function(){e.controller.abort()})}var Bo=null,Xh=0,Ea=0,Ta=null;function P0(e,i){if(Bo===null){var a=Bo=[];Xh=0,Ea=nd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xh++,i.then(Hp,Hp),i}function Hp(){if(--Xh===0&&Bo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Bo;Bo=null,Ea=0,Ta=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function U0(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fp=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&P0(e,i),Fp!==null&&Fp(e,i)};var ws=xt(null);function $h(){var e=ws.current;return e!==null?e:Xt.pooledCache}function Nu(e,i){i===null?Gt(ws,ws.current):Gt(ws,i.pool)}function Gp(){var e=$h();return e===null?null:{parent:be._currentValue,pool:e}}var Er=0,wt=null,Kt=null,de=null,Vu=!1,Aa=!1,Rs=!1,Mu=0,jo=0,Sa=null,L0=0;function ue(){throw Error(s(321))}function Wh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Zh(e,i,a,l,h,d){return Er=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Is:Tr,Rs=!1,d=a(l,h),Rs=!1,Aa&&(d=Qp(i,a,l,h)),Kp(e),d}function Kp(e){S.H=si;var i=Kt!==null&&Kt.next!==null;if(Er=0,de=Kt=wt=null,Vu=!1,jo=0,Sa=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&qu(e)&&(Ve=!0))}function Qp(e,i,a,l){wt=e;var h=0;do{if(Aa&&(Sa=null),jo=0,Aa=!1,25<=h)throw Error(s(301));if(h+=1,de=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Cs,d=i(a,l)}while(Aa);return d}function x0(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?qo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Jh(){var e=Mu!==0;return Mu=0,e}function tf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ef(e){if(Vu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Vu=!1}Er=0,de=Kt=wt=null,Aa=!1,jo=Mu=0,Sa=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?wt.memoizedState=de=e:de=de.next=e,de}function me(){if(Kt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=de===null?wt.memoizedState:de.next;if(i!==null)de=i,Kt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},de===null?wt.memoizedState=de=e:de=de.next=e}return de}var ku;ku=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qo(e){var i=jo;return jo+=1,Sa===null&&(Sa=[]),e=Up(Sa,e,i),i=wt,(de===null?i.memoizedState:de.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Is:Tr),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===V)return Ge(e)}throw Error(s(438,String(e)))}function nf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ku(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=Lt;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function Uu(e){var i=me();return rf(i,Kt,e)}function rf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,M=i,F=!1;do{var X=M.lane&-536870913;if(X!==M.lane?(Pt&X)===X:(Er&X)===X){var B=M.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),X===Ea&&(F=!0);else if((Er&B)===B){M=M.next,B===Ea&&(F=!0);continue}else X={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=X,v=d):b=b.next=X,wt.lanes|=B,Or|=B;X=M.action,Rs&&a(d,X),d=M.hasEagerState?M.eagerState:a(d,X)}else B={lane:X,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=B,v=d):b=b.next=B,wt.lanes|=X,Or|=X;M=M.next}while(M!==null&&M!==i);if(b===null?v=d:b.next=E,!dn(d,e.memoizedState)&&(Ve=!0,F&&(a=Ta,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sf(e){var i=me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yp(e,i,a){var l=wt,h=me(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Kt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ve=!0),h=h.queue,lf(Wp.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ba(9,$p.bind(null,l,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));d||Er&60||Xp(l,i,a)}return a}function Xp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=ku(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function $p(e,i,a,l){i.value=a,i.getSnapshot=l,Zp(i)&&Jp(e)}function Wp(e,i,a){return a(function(){Zp(i)&&Jp(e)})}function Zp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function Jp(e){var i=_r(e,2);i!==null&&rn(i,e,2)}function af(e){var i=on();if(typeof e=="function"){var a=e;if(e=a(),Rs){Kn(!0);try{a()}finally{Kn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function tg(e,i,a,l){return e.baseState=a,rf(e,Kt,typeof l=="function"?l:Oi)}function z0(e,i,a,l,h){if(zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function eg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var E=a(h,l),b=S.S;b!==null&&b(v,E),ng(e,i,E)}catch(M){of(e,i,M)}finally{S.T=d}}else try{d=a(h,l),ng(e,i,d)}catch(M){of(e,i,M)}}function ng(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ig(e,i,l)},function(l){return of(e,i,l)}):ig(e,i,a)}function ig(e,i,a){i.status="fulfilled",i.value=a,rg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,eg(e,a)))}function of(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,rg(i),i=i.next;while(i!==l)}e.action=null}function rg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function sg(e,i){return i}function ag(e,i){if(Bt){var a=Xt.formState;if(a!==null){t:{var l=wt;if(Bt){if(xe){e:{for(var h=xe,d=ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xe=Hn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:i},a.queue=l,a=bg.bind(null,wt,l),l.dispatch=a,l=af(!1),d=df.bind(null,wt,!1,l.queue),l=on(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=z0.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function og(e){var i=me();return lg(i,Kt,e)}function lg(e,i,a){i=rf(e,i,sg)[0],e=Uu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?qo(i):i;var l=me(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(wt.flags|=2048,ba(9,B0.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function B0(e,i){e.action=i}function ug(e){var i=me(),a=Kt;if(a!==null)return lg(i,a,e);me(),i=i.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ba(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=wt.updateQueue,i===null&&(i=ku(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function cg(){return me().memoizedState}function Lu(e,i,a,l){var h=on();wt.flags|=e,h.memoizedState=ba(1|i,a,{destroy:void 0},l===void 0?null:l)}function xu(e,i,a,l){var h=me();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Wh(l,Kt.memoizedState.deps)?h.memoizedState=ba(i,a,d,l):(wt.flags|=e,h.memoizedState=ba(1|i,a,d,l))}function hg(e,i){Lu(8390656,8,e,i)}function lf(e,i){xu(2048,8,e,i)}function fg(e,i){return xu(4,2,e,i)}function dg(e,i){return xu(4,4,e,i)}function mg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function pg(e,i,a){a=a!=null?a.concat([e]):null,xu(4,4,mg.bind(null,i,e),a)}function uf(){}function gg(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function _g(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wh(i,l[1]))return l[0];if(l=e(),Rs){Kn(!0);try{e()}finally{Kn(!1)}}return a.memoizedState=[l,i],l}function cf(e,i,a){return a===void 0||Er&1073741824?e.memoizedState=i:(e.memoizedState=a,e=v_(),wt.lanes|=e,Or|=e,a)}function yg(e,i,a,l){return dn(a,i)?a:va.current!==null?(e=cf(e,a,l),dn(e,i)||(Ve=!0),e):Er&42?(e=v_(),wt.lanes|=e,Or|=e,i):(Ve=!0,e.memoizedState=a)}function vg(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=S.T,E={};S.T=E,df(e,!1,i,a);try{var b=h(),M=S.S;if(M!==null&&M(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=U0(b,l);Ho(e,i,F,_n(e))}else Ho(e,i,l,_n(e))}catch(X){Ho(e,i,{then:function(){},status:"rejected",reason:X},_n())}finally{nt.p=d,S.T=v}}function j0(){}function hf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Eg(e).queue;vg(e,h,i,bt,a===null?j0:function(){return Tg(e),a(l)})}function Eg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:bt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Tg(e){var i=Eg(e).next.queue;Ho(e,i,{},_n())}function ff(){return Ge(ul)}function Ag(){return me().memoizedState}function Sg(){return me().memoizedState}function q0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();e=br(a);var l=wr(i,e,a);l!==null&&(rn(l,i,a),Ko(l,i,a)),i={cache:Yh()},e.payload=i;return}i=i.return}}function H0(e,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(e)?wg(i,a):(a=jh(e,i,a,l),a!==null&&(rn(a,e,l),Rg(a,i,l)))}function bg(e,i,a){var l=_n();Ho(e,i,a,l)}function Ho(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(e))wg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,dn(E,v))return Au(e,i,h,0),Xt===null&&Tu(),!1}catch{}finally{}if(a=jh(e,i,h,l),a!==null)return rn(a,e,l),Rg(a,i,l),!0}return!1}function df(e,i,a,l){if(l={lane:2,revertLane:nd(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(i)throw Error(s(479))}else i=jh(e,a,l,2),i!==null&&rn(i,e,2)}function zu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function wg(e,i){Aa=Vu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Rg(e,i,a){if(a&4194176){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,or(e,a)}}var si={readContext:Ge,use:Pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};si.useCacheRefresh=ue,si.useMemoCache=ue,si.useHostTransitionStatus=ue,si.useFormState=ue,si.useActionState=ue,si.useOptimistic=ue;var Is={readContext:Ge,use:Pu,useCallback:function(e,i){return on().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:hg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Lu(4194308,4,mg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Lu(4194308,4,e,i)},useInsertionEffect:function(e,i){Lu(4,2,e,i)},useMemo:function(e,i){var a=on();i=i===void 0?null:i;var l=e();if(Rs){Kn(!0);try{e()}finally{Kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=on();if(a!==void 0){var h=a(i);if(Rs){Kn(!0);try{a(i)}finally{Kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=H0.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=on();return e={current:e},i.memoizedState=e},useState:function(e){e=af(e);var i=e.queue,a=bg.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(e,i){var a=on();return cf(a,e,i)},useTransition:function(){var e=af(!1);return e=vg.bind(null,wt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=on();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));Pt&60||Xp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hg(Wp.bind(null,l,d,e),[e]),l.flags|=2048,ba(9,$p.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=on(),i=Xt.identifierPrefix;if(Bt){var a=Ci,l=Ii;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Mu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=L0++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return on().memoizedState=q0.bind(null,wt)}};Is.useMemoCache=nf,Is.useHostTransitionStatus=ff,Is.useFormState=ag,Is.useActionState=ag,Is.useOptimistic=function(e){var i=on();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=df.bind(null,wt,!0,a),a.dispatch=i,[e,i]};var Tr={readContext:Ge,use:Pu,useCallback:gg,useContext:Ge,useEffect:lf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:_g,useReducer:Uu,useRef:cg,useState:function(){return Uu(Oi)},useDebugValue:uf,useDeferredValue:function(e,i){var a=me();return yg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Uu(Oi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:qo(e),i]},useSyncExternalStore:Yp,useId:Ag};Tr.useCacheRefresh=Sg,Tr.useMemoCache=nf,Tr.useHostTransitionStatus=ff,Tr.useFormState=og,Tr.useActionState=og,Tr.useOptimistic=function(e,i){var a=me();return tg(a,Kt,e,i)};var Cs={readContext:Ge,use:Pu,useCallback:gg,useContext:Ge,useEffect:lf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:_g,useReducer:sf,useRef:cg,useState:function(){return sf(Oi)},useDebugValue:uf,useDeferredValue:function(e,i){var a=me();return Kt===null?cf(a,e,i):yg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=sf(Oi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:qo(e),i]},useSyncExternalStore:Yp,useId:Ag};Cs.useCacheRefresh=Sg,Cs.useMemoCache=nf,Cs.useHostTransitionStatus=ff,Cs.useFormState=ug,Cs.useActionState=ug,Cs.useOptimistic=function(e,i){var a=me();return Kt!==null?tg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function mf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pf={isMounted:function(e){return(e=e._reactInternals)?ct(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=_n(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(rn(i,e,l),Ko(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=_n(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(rn(i,e,l),Ko(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=_n(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=wr(e,l,a),i!==null&&(rn(i,e,a),Ko(i,e,a))}};function Ig(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,l)||!Oo(h,d):!0}function Cg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&pf.enqueueReplaceState(i,i.state,null)}function Ds(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dg(e){Bu(e)}function Og(e){console.error(e)}function Ng(e){Bu(e)}function ju(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){ju(e,i)},a}function Mg(e){return e=br(e),e.tag=3,e}function kg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Vg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Vg(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function F0(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Go(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ri===null?Wf():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jf(e,l,h)),!1;case 22:return a.flags|=65536,l===Gh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jf(e,l,h)),!1}throw Error(s(435,a.tag))}return Jf(e,l,h),Wf(),!1}if(Bt)return i=On.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Fh&&(e=Error(s(422),{cause:l}),ko(In(e,a)))):(l!==Fh&&(i=Error(s(423),{cause:l}),ko(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,a),h=gf(e.stateNode,l,h),Nf(e,h),ae!==4&&(ae=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),tl===null?tl=[d]:tl.push(d),ae!==4&&(ae=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=gf(a.stateNode,l,e),Nf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Mg(h),kg(h,e,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var Pg=Error(s(461)),Ve=!1;function ze(e,i,a,l){i.child=e===null?Bp(i,null,a,l):bs(i,e.child,a,l)}function Ug(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ns(i),l=Zh(e,i,a,v,d,h),E=Jh(),e!==null&&!Ve?(tf(e,i,h),Ni(e,i,h)):(Bt&&E&&qh(i),i.flags|=1,ze(e,i,l,h),i.child)}function Lg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xg(e,i,d,l,h)):(e=Ku(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!wf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,l)&&e.ref===i.ref)return Ni(e,i,h)}return i.flags|=1,e=Dr(d,l),e.ref=i.ref,e.return=i,i.child=e}function xg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Oo(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,wf(e,h))e.flags&131072&&(Ve=!0);else return i.lanes=e.lanes,Ni(e,i,h)}return _f(e,i,a,l,h)}function zg(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Fo(e,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Bg(e,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(i,v!==null?v.cachePool:null),v!==null?jp(i,v):Kh(),qp(i);else return i.lanes=i.childLanes=536870912,Bg(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Nu(i,v.cachePool),jp(i,v),vr(),i.memoizedState=null):(e!==null&&Nu(i,null),Kh(),vr());return ze(e,i,h,a),i.child}function Bg(e,i,a,l){var h=$h();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Nu(i,null),Kh(),qp(i),e!==null&&Go(e,i,l,!0),null}function Fo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function _f(e,i,a,l,h){return Ns(i),a=Zh(e,i,a,l,void 0,h),l=Jh(),e!==null&&!Ve?(tf(e,i,h),Ni(e,i,h)):(Bt&&l&&qh(i),i.flags|=1,ze(e,i,a,h),i.child)}function jg(e,i,a,l,h,d){return Ns(i),i.updateQueue=null,a=Qp(i,l,a,h),Kp(e),l=Jh(),e!==null&&!Ve?(tf(e,i,d),Ni(e,i,d)):(Bt&&l&&qh(i),i.flags|=1,ze(e,i,a,d),i.child)}function qg(e,i,a,l,h){if(Ns(i),i.stateNode===null){var d=pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Df(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):pa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(mf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&pf.enqueueReplaceState(d,d.state,null),Yo(i,l,d,h),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=Ds(a,E);d.props=b;var M=d.context,F=a.contextType;v=pa,typeof F=="object"&&F!==null&&(v=Ge(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||M!==v)&&Cg(i,d,l,v),Sr=!1;var B=i.memoizedState;d.state=B,Yo(i,l,d,h),Qo(),M=i.memoizedState,E||B!==M||Sr?(typeof X=="function"&&(mf(i,a,X,l),M=i.memoizedState),(b=Sr||Ig(i,a,b,l,B,M,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=M),d.props=l,d.state=M,d.context=v,l=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Of(e,i),v=i.memoizedProps,F=Ds(a,v),d.props=F,X=i.pendingProps,B=d.context,M=a.contextType,b=pa,typeof M=="object"&&M!==null&&(b=Ge(M)),E=a.getDerivedStateFromProps,(M=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==b)&&Cg(i,d,l,b),Sr=!1,B=i.memoizedState,d.state=B,Yo(i,l,d,h),Qo();var H=i.memoizedState;v!==X||B!==H||Sr||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof E=="function"&&(mf(i,a,E,l),H=i.memoizedState),(F=Sr||Ig(i,a,F,l,B,H,b)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=b,l=F):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=bs(i,e.child,null,h),i.child=bs(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ni(e,i,h),e}function Hg(e,i,a,l){return Mo(),i.flags|=256,ze(e,i,a,l),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0};function vf(e){return{baseLanes:e,cachePool:Gp()}}function Ef(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function Fg(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?yr(i):vr(),Bt){var E=xe,b;if(b=E){t:{for(b=E,E=ii;b.nodeType!==8;){if(!E){E=null;break t}if(b=Hn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:Ts!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912},b=Mn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,nn=i,xe=null,b=!0):b=!1}b||Ss(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return E=l.children,l=l.fallback,h?(vr(),h=i.mode,E=Af({mode:"hidden",children:E},h),l=Ms(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=vf(a),h.childLanes=Ef(e,v,a),i.memoizedState=yf,l):(yr(i),Tf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=Sf(e,i,a)):i.memoizedState!==null?(vr(),i.child=e.child,i.flags|=128,i=null):(vr(),h=l.fallback,E=i.mode,l=Af({mode:"visible",children:l.children},E),h=Ms(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,bs(i,e.child,null,a),l=i.child,l.memoizedState=vf(a),l.childLanes=Ef(e,v,a),i.memoizedState=yf,i=h);else if(yr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(s(419)),l.stack="",l.digest=v,ko({value:l,source:null,stack:null}),i=Sf(e,i,a)}else if(Ve||Go(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=Xt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,_r(e,l),rn(v,e,l),Pg}E.data==="$?"||Wf(),i=Sf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=sA.bind(null,e),E._reactRetry=i,i=null):(e=b.treeContext,xe=Hn(E.nextSibling),nn=i,Bt=!0,jn=null,ii=!1,e!==null&&(Cn[Dn++]=Ii,Cn[Dn++]=Ci,Cn[Dn++]=Ts,Ii=e.id,Ci=e.overflow,Ts=i),i=Tf(i,l.children),i.flags|=4096);return i}return h?(vr(),h=l.fallback,E=i.mode,b=e.child,M=b.sibling,l=Dr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,M!==null?h=Dr(M,h):(h=Ms(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=vf(a):(b=E.cachePool,b!==null?(M=be._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=Gp(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Ef(e,v,a),i.memoizedState=yf,l):(yr(i),a=e.child,e=a.sibling,a=Dr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Tf(e,i){return i=Af({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Af(e,i){return g_(e,i,0,null)}function Sf(e,i,a){return bs(i,e.child,null,a),e=Tf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Gg(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),If(e.return,i,a)}function bf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Kg(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=Se.current,l&2)l=l&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,a,i);else if(e.tag===19)Gg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Gt(Se,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ou(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}bf(i,!0,a,null,d);break;case"together":bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Or|=i.lanes,!(a&i.childLanes))if(e!==null){if(Go(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Dr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Dr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function wf(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function G0(e,i,a){switch(i.tag){case 3:er(i,i.stateNode.containerInfo),Ar(i,be,e.memoizedState.cache),Mo();break;case 27:case 5:lo(i);break;case 4:er(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):a&i.child.childLanes?Fg(e,i,a):(yr(i),e=Ni(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Go(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Kg(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Se,Se.current),l)break;return null;case 22:case 23:return i.lanes=0,zg(e,i,a);case 24:Ar(i,be,e.memoizedState.cache)}return Ni(e,i,a)}function Qg(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!wf(e,a)&&!(i.flags&128))return Ve=!1,G0(e,i,a);Ve=!!(e.flags&131072)}else Ve=!1,Bt&&i.flags&1048576&&Np(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")zf(l)?(e=Ds(l,e),i.tag=1,i=qg(null,i,l,e,a)):(i.tag=0,i=_f(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===j){i.tag=11,i=Ug(null,i,l,e,a);break t}else if(h===ut){i.tag=14,i=Lg(null,i,l,e,a);break t}}throw i=I(l)||l,Error(s(306,i,""))}}return i;case 0:return _f(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),qg(e,i,l,h,a);case 3:t:{if(er(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Of(e,i),Yo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Ar(i,be,d),d!==h.cache&&Cf(i,[be],a,!0),Qo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Hg(e,i,d,a);break t}else if(d!==l){l=In(Error(s(424)),i),ko(l),i=Hg(e,i,d,a);break t}else for(xe=Hn(i.stateNode.containerInfo.firstChild),nn=i,Bt=!0,jn=null,ii=!0,a=Bp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mo(),d===l){i=Ni(e,i,a);break t}ze(e,i,d,a)}i=i.child}return i;case 26:return Fo(e,i),e===null?(a=$_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=rc(vn.current).createElement(a),l[De]=i,l[Ee]=e,Be(l,a,e),Jt(l),i.stateNode=l):i.memoizedState=$_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return lo(i),e===null&&Bt&&(l=i.stateNode=Q_(i.type,i.pendingProps,vn.current),nn=i,ii=!0,xe=Hn(l.firstChild)),l=i.pendingProps.children,e!==null||Bt?ze(e,i,l,a):i.child=bs(i,null,l,a),Fo(e,i),i.child;case 5:return e===null&&Bt&&((h=l=xe)&&(l=TA(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,nn=i,xe=Hn(l.firstChild),ii=!1,h=!0):h=!1),h||Ss(i)),lo(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,hd(h,d)?l=null:v!==null&&hd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Zh(e,i,x0,null,null,a),ul._currentValue=h),Fo(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=xe)&&(a=AA(a,i.pendingProps,ii),a!==null?(i.stateNode=a,nn=i,xe=null,e=!0):e=!1),e||Ss(i)),null;case 13:return Fg(e,i,a);case 4:return er(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=bs(i,null,l,a):ze(e,i,l,a),i.child;case 11:return Ug(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ar(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ns(i),h=Ge(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return Lg(e,i,i.type,i.pendingProps,a);case 15:return xg(e,i,i.type,i.pendingProps,a);case 19:return Kg(e,i,a);case 22:return zg(e,i,a);case 24:return Ns(i),l=Ge(be),e===null?(h=$h(),h===null&&(h=Xt,d=Yh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Df(i),Ar(i,be,h)):(e.lanes&a&&(Of(e,i),Yo(i,null,null,a),Qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,be,l)):(l=d.cache,Ar(i,be,l),l!==h.cache&&Cf(i,[be],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Rf=xt(null),Os=null,Vi=null;function Ar(e,i,a){Gt(Rf,i._currentValue),i._currentValue=a}function Mi(e){e._currentValue=Rf.current,ie(Rf)}function If(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Cf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),If(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),If(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Go(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===tr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Cf(i,e,a,l),i.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){Os=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Yg(Os,e)}function Hu(e,i){return Os===null&&Ns(e),Yg(e,i)}function Yg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Vi=Vi.next=i;return a}var Sr=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ee&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Su(e),Dp(e,null,a),i}return Au(e,l,i,a),Su(e)}function Ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,or(e,a)}}function Nf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Vf=!1;function Qo(){if(Vf){var e=Ta;if(e!==null)throw e}}function Yo(e,i,a,l){Vf=!1;var h=e.updateQueue;Sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,M=b.next;b.next=null,v===null?d=M:v.next=M,v=b;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=M:E.next=M,F.lastBaseUpdate=b))}if(d!==null){var X=h.baseState;v=0,F=M=b=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Pt&B)===B:(l&B)===B){B!==0&&B===Ea&&(Vf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,Et=E;B=i;var oe=a;switch(Et.tag){case 1:if(at=Et.payload,typeof at=="function"){X=at.call(oe,X,B);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Et.payload,B=typeof at=="function"?at.call(oe,X,B):at,B==null)break t;X=D({},X,B);break t;case 2:Sr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(M=F=H,b=X):F=F.next=H,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(b=X),h.baseState=b,h.firstBaseUpdate=M,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Or|=v,e.lanes=v,e.memoizedState=X}}function Xg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function $g(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xg(a[e],i)}function Xo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Rr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a;try{E()}catch(M){Yt(h,b,M)}}}l=l.next}while(l!==d)}}catch(M){Yt(i,i.return,M)}}function Wg(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{$g(i,a)}catch(l){Yt(e,e.return,l)}}}function Zg(e,i,a){a.props=Ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function Vs(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Yt(e,i,d)}}function mn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Jg(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function t_(e,i,a){try{var l=e.stateNode;gA(l,e.type,a,i),l[Ee]=i}catch(h){Yt(e,e.return,h)}}function e_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||e_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ic));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Fu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Fu(e,i,a),e=e.sibling;e!==null;)Fu(e,i,a),e=e.sibling}var ki=!1,se=!1,Pf=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Me=null,i_=!1;function K0(e,i){if(e=e.containerInfo,ud=cc,e=Ep(e),Uh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,M=0,F=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(b=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++M===h&&(E=v),B===d&&++F===l&&(b=v),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:e,selectionRange:a},cc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var at=Ds(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(at,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Yt(a,a.return,Et)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)md(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}return at=i_,i_=!1,at}function r_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(e,a),l&4&&Xo(5,a);break;case 1:if(Ui(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&Wg(a),l&512&&Vs(a,a.return);break;case 3:if(Ui(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{$g(l,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Ui(e,a),l&512&&Vs(a,a.return);break;case 27:case 5:Ui(e,a),i===null&&l&4&&Jg(a),l&512&&Vs(a,a.return);break;case 12:Ui(e,a);break;case 13:Ui(e,a),l&4&&o_(e,a);break;case 22:if(h=a.memoizedState!==null||ki,!h){i=i!==null&&i.memoizedState!==null||se;var d=ki,v=se;ki=h,(se=i)&&!v?Ir(e,a,(a.subtreeFlags&8772)!==0):Ui(e,a),ki=d,se=v}l&512&&(a.memoizedProps.mode==="manual"?Vs(a,a.return):mn(a,a.return));break;default:Ui(e,a)}}function s_(e){var i=e.alternate;i!==null&&(e.alternate=null,s_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ls(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,pn=!1;function Pi(e,i,a){for(a=a.child;a!==null;)a_(e,i,a),a=a.sibling}function a_(e,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(nr,a)}catch{}switch(a.tag){case 26:se||mn(a,i),Pi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:se||mn(a,i);var l=pe,h=pn;for(pe=a.stateNode,Pi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ls(a),pe=l,pn=h;break;case 5:se||mn(a,i);case 6:h=pe;var d=pn;if(pe=null,Pi(e,i,a),pe=h,pn=d,pe!==null)if(pn)try{e=pe,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Yt(a,i,v)}else try{pe.removeChild(a.stateNode)}catch(v){Yt(a,i,v)}break;case 18:pe!==null&&(pn?(i=pe,a=a.stateNode,i.nodeType===8?dd(i.parentNode,a):i.nodeType===1&&dd(i,a),dl(i)):dd(pe,a.stateNode));break;case 4:l=pe,h=pn,pe=a.stateNode.containerInfo,pn=!0,Pi(e,i,a),pe=l,pn=h;break;case 0:case 11:case 14:case 15:se||Rr(2,a,i),se||Rr(4,a,i),Pi(e,i,a);break;case 1:se||(mn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zg(a,i,l)),Pi(e,i,a);break;case 21:Pi(e,i,a);break;case 22:se||mn(a,i),se=(l=se)||a.memoizedState!==null,Pi(e,i,a),se=l;break;default:Pi(e,i,a)}}function o_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(a){Yt(i,i.return,a)}}function Q0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new n_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new n_),i;default:throw Error(s(435,e.tag))}}function Uf(e,i){var a=Q0(e);i.forEach(function(l){var h=aA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:pe=E.stateNode,pn=!1;break t;case 3:pe=E.stateNode.containerInfo,pn=!0;break t;case 4:pe=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(pe===null)throw Error(s(160));a_(d,v,h),pe=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)l_(i,e),i=i.sibling}var qn=null;function l_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),Vn(e),l&4&&(Rr(3,e,e.return),Xo(3,e),Rr(5,e,e.return));break;case 1:Nn(i,e),Vn(e),l&512&&(se||a===null||mn(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(Nn(i,e),Vn(e),l&512&&(se||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ur]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[De]=e,Jt(d),l=d;break t;case"link":var v=J_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=J_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,Jt(d),l=d}e.stateNode=l}else ty(h,e.type,e.stateNode);else e.stateNode=Z_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ty(h,e.type,e.stateNode):Z_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&t_(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var b=h.firstChild;b;){var M=b.nextSibling,F=b.nodeName;b[ur]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=M}for(var X=e.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);Be(h,X,d),h[De]=e,h[Ee]=d}catch(at){Yt(e,e.return,at)}}case 5:if(Nn(i,e),Vn(e),l&512&&(se||a===null||mn(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(at){Yt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,t_(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Pf=!0);break;case 6:if(Nn(i,e),Vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(at){Yt(e,e.return,at)}}break;case 3:if(oc=null,h=qn,qn=sc(i.containerInfo),Nn(i,e),qn=h,Vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(at){Yt(e,e.return,at)}Pf&&(Pf=!1,u_(e));break;case 4:l=qn,qn=sc(e.stateNode.containerInfo),Nn(i,e),Vn(e),qn=l;break;case 12:Nn(i,e),Vn(e);break;case 13:Nn(i,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gf=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uf(e,l)));break;case 22:if(l&512&&(se||a===null||mn(a,a.return)),b=e.memoizedState!==null,M=a!==null&&a.memoizedState!==null,F=ki,X=se,ki=F||b,se=X||M,Nn(i,e),se=X,ki=F,Vn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=b?i._visibility&-2:i._visibility|1,b&&(i=ki||se,a===null||M||i||wa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){M=a=i;try{if(h=M.stateNode,b)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=M.stateNode,E=M.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(at){Yt(M,M.return,at)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=b?"":M.memoizedProps}catch(at){Yt(M,M.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uf(e,a))));break;case 19:Nn(i,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uf(e,l)));break;case 21:break;default:Nn(i,e),Vn(e)}}function Vn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(e_(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Mf(e);Fu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var E=Mf(e);Fu(e,E,v);break;case 3:case 4:var b=l.stateNode.containerInfo,M=Mf(e);kf(e,M,b);break;default:throw Error(s(161))}}}catch(F){Yt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function u_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;u_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ui(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(e,i.alternate,i),i=i.sibling}function wa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Rr(4,i,i.return),wa(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zg(i,i.return,a),wa(i);break;case 26:case 27:case 5:mn(i,i.return),wa(i);break;case 22:mn(i,i.return),i.memoizedState===null&&wa(i);break;default:wa(i)}e=e.sibling}}function Ir(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(h,d,a),Xo(4,d);break;case 1:if(Ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Yt(l,l.return,M)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Xg(b[h],E)}catch(M){Yt(l,l.return,M)}}a&&v&64&&Wg(d),Vs(d,d.return);break;case 26:case 27:case 5:Ir(h,d,a),a&&l===null&&v&4&&Jg(d),Vs(d,d.return);break;case 12:Ir(h,d,a);break;case 13:Ir(h,d,a),a&&v&4&&o_(h,d);break;case 22:d.memoizedState===null&&Ir(h,d,a),Vs(d,d.return);break;default:Ir(h,d,a)}i=i.sibling}}function Lf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&zo(e))}function Cr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c_(e,i,a,l),i=i.sibling}function c_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(e,i,a,l),h&2048&&Xo(9,i);break;case 3:Cr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Cr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(i,i.return,b)}}else Cr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Cr(e,i,a,l):$o(e,i):d._visibility&4?Cr(e,i,a,l):(d._visibility|=4,Ra(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Lf(i.alternate,i);break;case 24:Cr(e,i,a,l),h&2048&&xf(i.alternate,i);break;default:Cr(e,i,a,l)}}function Ra(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:Ra(d,v,E,b,h),Xo(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&4?Ra(d,v,E,b,h):$o(d,v):(F._visibility|=4,Ra(d,v,E,b,h)),h&&M&2048&&Lf(v.alternate,v);break;case 24:Ra(d,v,E,b,h),h&&M&2048&&xf(v.alternate,v);break;default:Ra(d,v,E,b,h)}i=i.sibling}}function $o(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:$o(a,l),h&2048&&Lf(l.alternate,l);break;case 24:$o(a,l),h&2048&&xf(l.alternate,l);break;default:$o(a,l)}i=i.sibling}}var Wo=8192;function Ia(e){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)h_(e),e=e.sibling}function h_(e){switch(e.tag){case 26:Ia(e),e.flags&Wo&&e.memoizedState!==null&&PA(qn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e);break;case 3:case 4:var i=qn;qn=sc(e.stateNode.containerInfo),Ia(e),qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Wo,Wo=16777216,Ia(e),Wo=i):Ia(e));break;default:Ia(e)}}function f_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Zo(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,m_(l,e)}f_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)d_(e),e=e.sibling}function d_(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Gu(e)):Zo(e);break;default:Zo(e)}}function Gu(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,m_(l,e)}f_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Rr(8,i,i.return),Gu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Gu(i));break;default:Gu(i)}e=e.sibling}}function m_(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(s_(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}function Y0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,i,a,l){return new Y0(e,i,a,l)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dr(e,i){var a=e.alternate;return a===null?(a=Mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function p_(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ku(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")zf(e)&&(v=1);else if(typeof e=="string")v=MA(e,a,Ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Ms(a.children,h,d,i);case _:v=8,h|=24;break;case A:return e=Mn(12,a,i,h|2),e.elementType=A,e.lanes=d,e;case $:return e=Mn(13,a,i,h),e.elementType=$,e.lanes=d,e;case Q:return e=Mn(19,a,i,h),e.elementType=Q,e.lanes=d,e;case _t:return g_(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:case V:v=10;break t;case R:v=9;break t;case j:v=11;break t;case ut:v=14;break t;case ft:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Mn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ms(e,i,a,l){return e=Mn(7,e,l,i),e.lanes=a,e}function g_(e,i,a,l){e=Mn(22,e,l,i),e.elementType=_t,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=_r(d,2);v!==null&&(h._pendingVisibility|=2,rn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=_r(d,2);v!==null&&(h._pendingVisibility&=-3,rn(v,d,2))}}};return e.stateNode=h,e}function Bf(e,i,a){return e=Mn(6,e,null,i),e.lanes=a,e}function jf(e,i,a){return i=Mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Li(e){e.flags|=4}function __(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ey(i)){if(i=On.current,i!==null&&((Pt&4194176)===Pt?ri!==null:(Pt&62914560)!==Pt&&!(Pt&536870912)||i!==ri))throw Uo=Gh,kp;e.flags|=8192}}function Qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?sr():536870912,e.lanes|=i,Da|=i)}function Jo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function te(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function X0(e,i,a){var l=i.pendingProps;switch(Hh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(i),null;case 1:return te(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(be),gi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(i)?Li(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,jn!==null&&(Xf(jn),jn=null))),te(i),null;case 26:return a=i.memoizedState,e===null?(Li(i),a!==null?(te(i),__(i,a)):(te(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Li(i),te(i),__(i,a)):(te(i),i.flags&=-16777217):(e.memoizedProps!==l&&Li(i),te(i),i.flags&=-16777217),null;case 27:Ys(i),a=vn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}e=Ze.current,Vo(i)?Vp(i):(e=Q_(h,l,a),i.stateNode=e,Li(i))}return te(i),null;case 5:if(Ys(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}if(e=Ze.current,Vo(i))Vp(i);else{switch(h=rc(vn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=i,e[Ee]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(i)}}return te(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vn.current,Vo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(e.nodeValue,a)),e||Ss(i)}else e=rc(e).createTextNode(l),e[De]=i,i.stateNode=e}return te(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=i}else Mo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;te(i),h=!1}else jn!==null&&(Xf(jn),jn=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),te(i),null;case 4:return gi(),e===null&&ad(i.stateNode.containerInfo),te(i),null;case 10:return Mi(i.type),te(i),null;case 19:if(ie(Se),h=i.memoizedState,h===null)return te(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Jo(h,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Ou(e),d!==null){for(i.flags|=128,Jo(h,!1),e=d.updateQueue,i.updateQueue=e,Qu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)p_(a,e),a=a.sibling;return Gt(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&sn()>Yu&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Ou(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Qu(i,e),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return te(i),null}else 2*sn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,e=Se.current,Gt(Se,l?e&1|2:e&1),i):(te(i),null);case 22:case 23:return Di(i),Qh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(te(i),i.subtreeFlags&6&&(i.flags|=8192)):te(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ie(ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(be),te(i),null;case 25:return null}throw Error(s(156,i.tag))}function $0(e,i){switch(Hh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Mi(be),gi(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ys(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ie(Se),null;case 4:return gi(),null;case 10:return Mi(i.type),null;case 22:case 23:return Di(i),Qh(),e!==null&&ie(ws),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Mi(be),null;case 25:return null;default:return null}}function y_(e,i){switch(Hh(i),i.tag){case 3:Mi(be),gi();break;case 26:case 27:case 5:Ys(i);break;case 4:gi();break;case 13:Di(i);break;case 19:ie(Se);break;case 10:Mi(i.type);break;case 22:case 23:Di(i),Qh(),e!==null&&ie(ws);break;case 24:Mi(be)}}var W0={getCacheForType:function(e){var i=Ge(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Z0=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,It=null,Pt=0,$t=0,gn=null,xi=!1,Ca=!1,qf=!1,zi=0,ae=0,Or=0,ks=0,Hf=0,kn=0,Da=0,tl=null,ai=null,Ff=!1,Gf=0,Yu=1/0,Xu=null,Nr=null,$u=!1,Ps=null,el=0,Kf=0,Qf=null,nl=0,Yf=null;function _n(){if(ee&2&&Pt!==0)return Pt&-Pt;if(S.T!==null){var e=Ea;return e!==0?e:nd()}return nu()}function v_(){kn===0&&(kn=!(Pt&536870912)||Bt?mo():536870912);var e=On.current;return e!==null&&(e.flags|=32),kn}function rn(e,i,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(Oa(e,0),Bi(e,Pt,kn,!1)),le(e,a),(!(ee&2)||e!==Xt)&&(e===Xt&&(!(ee&2)&&(ks|=a),ae===4&&Bi(e,Pt,kn,!1)),oi(e))}function E_(e,i,a){if(ee&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||rr(e,i),h=l?eA(e,i):Zf(e,i,!0),d=l;do{if(h===0){Ca&&!l&&Bi(e,i,0,!1);break}else if(h===6)Bi(e,i,0,!xi);else{if(a=e.current.alternate,d&&!J0(a)){h=Zf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=tl;var b=E.current.memoizedState.isDehydrated;if(b&&(Oa(E,v).flags|=256),v=Zf(E,v,!1),v!==2){if(qf&&!b){E.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break t}d=ai,ai=h,d!==null&&Xf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Oa(e,0),Bi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Bi(l,i,kn,!xi);break t}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Gf+300-sn(),10<d)){if(Bi(l,i,kn,!xi),En(l,0)!==0)break t;l.timeoutHandle=F_(T_.bind(null,l,a,ai,Xu,Ff,i,kn,ks,Da,xi,2,-0,0),d);break t}T_(l,a,ai,Xu,Ff,i,kn,ks,Da,xi,0,-0,0)}}break}while(!0);oi(e)}function Xf(e){ai===null?ai=e:ai.push.apply(ai,e)}function T_(e,i,a,l,h,d,v,E,b,M,F,X,B){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:kA},h_(i),i=UA(),i!==null)){e.cancelPendingCommit=i(C_.bind(null,e,a,l,h,v,E,b,1,X,B)),Bi(e,d,v,!M);return}C_(e,a,l,h,v,E,b,F,X,B)}function J0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(e,i,a,l){i&=~Hf,i&=~ks,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Je(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ar(e,a,i)}function Wu(){return ee&6?!0:(il(0),!1)}function $f(){if(It!==null){if($t===0)var e=It.return;else e=It,Vi=Os=null,ef(e),ya=null,Lo=0,e=It;for(;e!==null;)y_(e.alternate,e),e=e.return;It=null}}function Oa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$f(),Xt=e,It=a=Dr(e.current,null),Pt=i,$t=0,gn=null,xi=!1,Ca=rr(e,i),qf=!1,Da=kn=Hf=ks=Or=ae=0,ai=tl=null,Ff=!1,i&8&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Je(l),d=1<<h;i|=e[h],l&=~d}return zi=i,Tu(),a}function A_(e,i){wt=null,S.H=si,i===Po?(i=Lp(),$t=3):i===kp?(i=Lp(),$t=4):$t=i===Pg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,It===null&&(ae=1,ju(e,In(i,e.current)))}function S_(){var e=S.H;return S.H=si,e===null?si:e}function b_(){var e=S.A;return S.A=W0,e}function Wf(){ae=4,xi||(Pt&4194176)!==Pt&&On.current!==null||(Ca=!0),!(Or&134217727)&&!(ks&134217727)||Xt===null||Bi(Xt,Pt,kn,!1)}function Zf(e,i,a){var l=ee;ee|=2;var h=S_(),d=b_();(Xt!==e||Pt!==i)&&(Xu=null,Oa(e,i)),i=!1;var v=ae;t:do try{if($t!==0&&It!==null){var E=It,b=gn;switch($t){case 8:$f(),v=6;break t;case 3:case 2:case 6:On.current===null&&(i=!0);var M=$t;if($t=0,gn=null,Na(e,E,b,M),a&&Ca){v=0;break t}break;default:M=$t,$t=0,gn=null,Na(e,E,b,M)}}tA(),v=ae;break}catch(F){A_(e,F)}while(!0);return i&&e.shellSuspendCounter++,Vi=Os=null,ee=l,S.H=h,S.A=d,It===null&&(Xt=null,Pt=0,Tu()),v}function tA(){for(;It!==null;)w_(It)}function eA(e,i){var a=ee;ee|=2;var l=S_(),h=b_();Xt!==e||Pt!==i?(Xu=null,Yu=sn()+500,Oa(e,i)):Ca=rr(e,i);t:do try{if($t!==0&&It!==null){i=It;var d=gn;e:switch($t){case 1:$t=0,gn=null,Na(e,i,d,1);break;case 2:if(Pp(d)){$t=0,gn=null,R_(i);break}i=function(){$t===2&&Xt===e&&($t=7),oi(e)},d.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Pp(d)?($t=0,gn=null,R_(i)):($t=0,gn=null,Na(e,i,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||ey(v)){$t=0,gn=null;var b=E.sibling;if(b!==null)It=b;else{var M=E.return;M!==null?(It=M,Zu(M)):It=null}break e}}$t=0,gn=null,Na(e,i,d,5);break;case 6:$t=0,gn=null,Na(e,i,d,6);break;case 8:$f(),ae=6;break t;default:throw Error(s(462))}}nA();break}catch(F){A_(e,F)}while(!0);return Vi=Os=null,S.H=l,S.A=h,ee=a,It!==null?0:(Xt=null,Pt=0,Tu(),ae)}function nA(){for(;It!==null&&!wh();)w_(It)}function w_(e){var i=Qg(e.alternate,e,zi);e.memoizedProps=e.pendingProps,i===null?Zu(e):It=i}function R_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=jg(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=jg(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:ef(i);default:y_(a,i),i=It=p_(i,zi),i=Qg(a,i,zi)}e.memoizedProps=e.pendingProps,i===null?Zu(e):It=i}function Na(e,i,a,l){Vi=Os=null,ef(i),ya=null,Lo=0;var h=i.return;try{if(F0(e,h,i,a,Pt)){ae=1,ju(e,In(a,e.current)),It=null;return}}catch(d){if(h!==null)throw It=h,d;ae=1,ju(e,In(a,e.current)),It=null;return}i.flags&32768?(Bt||l===1?e=!0:Ca||Pt&536870912?e=!1:(xi=e=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,e)):Zu(i)}function Zu(e){var i=e;do{if(i.flags&32768){I_(i,xi);return}e=i.return;var a=X0(i.alternate,i,zi);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);ae===0&&(ae=5)}function I_(e,i){do{var a=$0(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);ae=6,It=null}function C_(e,i,a,l,h,d,v,E,b,M){var F=S.T,X=nt.p;try{nt.p=2,S.T=null,iA(e,i,a,l,X,h,d,v,E,b,M)}finally{S.T=F,nt.p=X}}function iA(e,i,a,l,h,d,v,E){do Va();while(Ps!==null);if(ee&6)throw Error(s(327));var b=e.finishedWork;if(l=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var M=b.lanes|b.childLanes;if(M|=Bh,tu(e,l,M,d,v,E),e===Xt&&(It=Xt=null,Pt=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||$u||($u=!0,Kf=M,Qf=a,oA(_i,function(){return Va(),null})),a=(b.flags&15990)!==0,b.subtreeFlags&15990||a?(a=S.T,S.T=null,d=nt.p,nt.p=2,v=ee,ee|=4,K0(e,b),l_(b,e),I0(cd,e.containerInfo),cc=!!ud,cd=ud=null,e.current=b,r_(e,b.alternate,b),uo(),ee=v,nt.p=d,S.T=a):e.current=b,$u?($u=!1,Ps=e,el=l):D_(e,M),M=e.pendingLanes,M===0&&(Nr=null),ho(b.stateNode),oi(e),i!==null)for(h=e.onRecoverableError,b=0;b<i.length;b++)M=i[b],h(M.value,{componentStack:M.stack});return el&3&&Va(),M=e.pendingLanes,l&4194218&&M&42?e===Yf?nl++:(nl=0,Yf=e):nl=0,il(0),null}function D_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,zo(i)))}function Va(){if(Ps!==null){var e=Ps,i=Kf;Kf=0;var a=eu(el),l=S.T,h=nt.p;try{if(nt.p=32>a?32:a,S.T=null,Ps===null)var d=!1;else{a=Qf,Qf=null;var v=Ps,E=el;if(Ps=null,el=0,ee&6)throw Error(s(331));var b=ee;if(ee|=4,d_(v.current),c_(v,v.current,E,a),ee=b,il(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(nr,v)}catch{}d=!0}return d}finally{nt.p=h,S.T=l,D_(e,i)}}return!1}function O_(e,i,a){i=In(a,i),i=gf(e.stateNode,i,2),e=wr(e,i,2),e!==null&&(le(e,2),oi(e))}function Yt(e,i,a){if(e.tag===3)O_(e,e,a);else for(;i!==null;){if(i.tag===3){O_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){e=In(a,e),a=Mg(2),l=wr(i,a,2),l!==null&&(kg(a,l,i,e),le(l,2),oi(l));break}}i=i.return}}function Jf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Z0;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(qf=!0,h.add(a),e=rA.bind(null,e,i,a),i.then(e,e))}function rA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(Pt&a)===a&&(ae===4||ae===3&&(Pt&62914560)===Pt&&300>sn()-Gf?!(ee&2)&&Oa(e,0):Hf|=a,Da===Pt&&(Da=0)),oi(e)}function N_(e,i){i===0&&(i=sr()),e=_r(e,i),e!==null&&(le(e,i),oi(e))}function sA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),N_(e,a)}function aA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),N_(e,a)}function oA(e,i){return ss(e,i)}var Ju=null,Ma=null,td=!1,tc=!1,ed=!1,Us=0;function oi(e){e!==Ma&&e.next===null&&(Ma===null?Ju=Ma=e:Ma=Ma.next=e),tc=!0,td||(td=!0,uA(lA))}function il(e,i){if(!ed&&tc){ed=!0;do for(var a=!1,l=Ju;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=Pt,d=En(l,l===Xt?d:0),!(d&3)||rr(l,d)||(a=!0,k_(l,d));l=l.next}while(a);ed=!1}}function lA(){tc=td=!1;var e=0;Us!==0&&(_A()&&(e=Us),Us=0);for(var i=sn(),a=null,l=Ju;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Ju=h:a.next=h,h===null&&(Ma=a)):(a=l,(e!==0||d&3)&&(tc=!0)),l=h}il(e)}function V_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Je(d),E=1<<v,b=h[v];b===-1?(!(E&a)||E&l)&&(h[v]=Ws(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Xt,a=Pt,a=En(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&$s(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||rr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&$s(l),eu(a)){case 2:case 8:a=Ce;break;case 32:a=_i;break;case 268435456:a=co;break;default:a=_i}return l=M_.bind(null,e),a=ss(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&$s(l),e.callbackPriority=2,e.callbackNode=null,2}function M_(e,i){var a=e.callbackNode;if(Va()&&e.callbackNode!==a)return null;var l=Pt;return l=En(e,e===Xt?l:0),l===0?null:(E_(e,l,i),V_(e,sn()),e.callbackNode!=null&&e.callbackNode===a?M_.bind(null,e):null)}function k_(e,i){if(Va())return null;E_(e,i,!0)}function uA(e){vA(function(){ee&6?ss(ve,e):e()})}function nd(){return Us===0&&(Us=mo()),Us}function P_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$n(""+e)}function U_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function cA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Ee]||null).action),v=l.submitter;v&&(i=(i=v[Ee]||null)?P_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ra("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var b=v?U_(h,v):new FormData(h);hf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?U_(h,v):new FormData(h),hf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var id=0;id<Cp.length;id++){var rd=Cp[id],hA=rd.toLowerCase(),fA=rd[0].toUpperCase()+rd.slice(1);Bn(hA,"on"+fA)}Bn(Sp,"onAnimationEnd"),Bn(bp,"onAnimationIteration"),Bn(wp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(D0,"onTransitionRun"),Bn(O0,"onTransitionStart"),Bn(N0,"onTransitionCancel"),Bn(Rp,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function L_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,M=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=M;try{d(h)}catch(F){Bu(F)}h.currentTarget=null,d=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,M=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=M;try{d(h)}catch(F){Bu(F)}h.currentTarget=null,d=b}}}}function Nt(e,i){var a=i[os];a===void 0&&(a=i[os]=new Set);var l=e+"__bubble";a.has(l)||(x_(i,e,2,!1),a.add(l))}function sd(e,i,a){var l=0;i&&(l|=4),x_(a,e,l,i)}var ec="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[ec]){e[ec]=!0,go.forEach(function(a){a!=="selectionchange"&&(dA.has(a)||sd(a,!1,e),sd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ec]||(i[ec]=!0,sd("selectionchange",!1,i))}}function x_(e,i,a,l){switch(oy(i)){case 2:var h=zA;break;case 8:h=BA;break;default:h=vd}a=h.bind(null,i,a,e),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function od(e,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;v=v.return}for(;E!==null;){if(v=zn(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=d=v;continue t}E=E.parentNode}}l=l.return}au(function(){var M=d,F=ia(a),X=[];t:{var B=Ip.get(e);if(B!==void 0){var H=ra,at=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":H=ca;break;case"focusin":at="focus",H=oa;break;case"focusout":at="blur",H=oa;break;case"beforeblur":case"afterblur":H=oa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=mu;break;case Sp:case bp:case wp:H=la;break;case Rp:H=gu;break;case"scroll":case"scrollend":H=ou;break;case"wheel":H=ha;break;case"copy":case"cut":case"paste":H=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Co;break;case"toggle":case"beforetoggle":H=yu}var Et=(i&4)!==0,oe=!Et&&(e==="scroll"||e==="scrollend"),U=Et?B!==null?B+"Capture":null:B;Et=[];for(var N=M,z;N!==null;){var G=N;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=fs(N,U),G!=null&&Et.push(sl(N,G,z))),oe)break;N=N.return}0<Et.length&&(B=new H(B,at,null,a,F),X.push({event:B,listeners:Et}))}}if(!(i&7)){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Sn&&(at=a.relatedTarget||a.fromElement)&&(zn(at)||at[yi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=a.relatedTarget||a.toElement,H=M,at=at?zn(at):null,at!==null&&(oe=ct(at),Et=at.tag,at!==oe||Et!==5&&Et!==27&&Et!==6)&&(at=null)):(H=null,at=M),H!==at)){if(Et=wn,G="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Co,G="onPointerLeave",U="onPointerEnter",N="pointer"),oe=H==null?B:cr(H),z=at==null?B:cr(at),B=new Et(G,N+"leave",H,a,F),B.target=oe,B.relatedTarget=z,G=null,zn(F)===M&&(Et=new Et(U,N+"enter",at,a,F),Et.target=z,Et.relatedTarget=oe,G=Et),oe=G,H&&at)e:{for(Et=H,U=at,N=0,z=Et;z;z=ka(z))N++;for(z=0,G=U;G;G=ka(G))z++;for(;0<N-z;)Et=ka(Et),N--;for(;0<z-N;)U=ka(U),z--;for(;N--;){if(Et===U||U!==null&&Et===U.alternate)break e;Et=ka(Et),U=ka(U)}Et=null}else Et=null;H!==null&&z_(X,B,H,Et,!1),at!==null&&oe!==null&&z_(X,oe,at,Et,!0)}}t:{if(B=M?cr(M):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var st=fp;else if(Ae(B))if(dp)st=w0;else{st=S0;var Rt=A0}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&To(M.elementType)&&(st=fp):st=b0;if(st&&(st=st(e,M))){Ri(X,st,a,F);break t}Rt&&Rt(e,B,M),e==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&na(B,"number",B.value)}switch(Rt=M?cr(M):window,e){case"focusin":(Ae(Rt)||Rt.contentEditable==="true")&&(fa=Rt,Lh=M,No=null);break;case"focusout":No=Lh=fa=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Tp(X,a,F);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":Tp(X,a,F)}var lt;if(ei)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?q(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(y&&a.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(lt=So()):(Wn=F,gr="value"in Wn?Wn.value:Wn.textContent,Mt=!0)),Rt=nc(M,dt),0<Rt.length&&(dt=new Ro(dt,e,null,a,F),X.push({event:dt,listeners:Rt}),lt?dt.data=lt:(lt=J(a),lt!==null&&(dt.data=lt)))),(lt=m?Te(e,a):kt(e,a))&&(dt=nc(M,"onBeforeInput"),0<dt.length&&(Rt=new Ro("onBeforeInput","beforeinput",null,a,F),X.push({event:Rt,listeners:dt}),Rt.data=lt)),cA(X,e,M,a,F)}L_(X,i)})}function sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function nc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(e,a),h!=null&&l.unshift(sl(e,h,d)),h=fs(e,i),h!=null&&l.push(sl(e,h,d))),e=e.return}return l}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function z_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,b=E.alternate,M=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||M===null||(b=M,h?(M=fs(a,d),M!=null&&v.unshift(sl(a,M,b))):h||(M=fs(a,d),M!=null&&v.push(sl(a,M,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function B_(e){return(typeof e=="string"?e:""+e).replace(mA,`
`).replace(pA,"")}function j_(e,i){return i=B_(i),B_(e)===i}function ic(){}function Qt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":dr(e,"class",l);break;case"tabIndex":dr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(e,a,l);break;case"style":su(e,l,d);break;case"data":if(i!=="object"){dr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$n(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$n(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ic);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$n(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),fr(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oh.get(a)||a,fr(e,a,l))}}function ld(e,i,a,l,h,d){switch(a){case"style":su(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ee]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fr(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,d,v,a,null)}}h&&Qt(e,i,"srcSet",a.srcSet,a,null),l&&Qt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=v=h=null,b=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":b=F;break;case"defaultChecked":M=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Qt(e,i,l,F,a,null)}}cs(e,d,E,b,M,v,h,!1),us(e);return;case"select":Nt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Qt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?zt(e,!!l,i,!1):a!=null&&zt(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,i,v,E,a,null)}pr(e,l,h,d),us(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(e,i,b,l,a,null)}return;case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<rl.length;l++)Nt(rl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,M,l,a,null)}return;default:if(To(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&ld(e,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qt(e,i,E,l,a,null))}function gA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,M=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(H)||Qt(e,i,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":M=H;break;case"defaultChecked":F=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Qt(e,i,B,H,l,X)}}mr(e,v,E,b,M,F,d,h);return;case"select":H=v=E=B=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":H=b;default:l.hasOwnProperty(d)||Qt(e,i,d,null,l,b)}for(h in l)if(d=l[h],b=a[h],l.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Qt(e,i,h,d,l,b)}i=E,a=v,l=H,B!=null?zt(e,!!a,B,!1):!!l!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qt(e,i,v,h,l,d)}hs(e,B,H);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Qt(e,i,at,null,l,B)}for(b in l)if(B=l[b],H=a[b],l.hasOwnProperty(b)&&B!==H&&(B!=null||H!=null))switch(b){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(e,i,b,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et)&&Qt(e,i,Et,null,l,B);for(M in l)if(B=l[M],H=a[M],l.hasOwnProperty(M)&&B!==H&&(B!=null||H!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Qt(e,i,M,B,l,H)}return;default:if(To(i)){for(var oe in a)B=a[oe],a.hasOwnProperty(oe)&&B!==void 0&&!l.hasOwnProperty(oe)&&ld(e,i,oe,void 0,l,B);for(F in l)B=l[F],H=a[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||ld(e,i,F,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Qt(e,i,U,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Qt(e,i,X,B,l,H)}var ud=null,cd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function hd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fd=null;function _A(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(e){return G_.resolve(null).then(e).catch(EA)}:F_;function EA(e){setTimeout(function(){throw e})}function dd(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),dl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);dl(i)}function md(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":md(a),ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function TA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ur])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function AA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Hn(e.nextSibling),e===null))return null;return e}function Hn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function K_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Q_(e,i,a){switch(i=rc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Pn=new Map,Y_=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ji=nt.d;nt.d={f:SA,r:bA,D:wA,C:RA,L:IA,m:CA,X:OA,S:DA,M:NA};function SA(){var e=ji.f(),i=Wu();return e||i}function bA(e){var i=vi(e);i!==null&&i.tag===5&&i.type==="form"?Tg(i):ji.r(e)}var Pa=typeof document>"u"?null:document;function X_(e,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=re(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),Jt(i),l.head.appendChild(i)))}}function wA(e){ji.D(e),X_("dns-prefetch",e,null)}function RA(e,i){ji.C(e,i),X_("preconnect",e,i)}function IA(e,i,a){ji.L(e,i,a);var l=Pa;if(l&&e&&i){var h='link[rel="preload"][as="'+re(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(e)+'"]';var d=h;switch(i){case"style":d=Ua(e);break;case"script":d=La(e)}Pn.has(d)||(e=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(al(d))||i==="script"&&l.querySelector(ol(d))||(i=l.createElement("link"),Be(i,"link",e),Jt(i),l.head.appendChild(i)))}}function CA(e,i){ji.m(e,i);var a=Pa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(e)}if(!Pn.has(d)&&(e=D({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(d)))return}l=a.createElement("link"),Be(l,"link",e),Jt(l),a.head.appendChild(l)}}}function DA(e,i,a){ji.S(e,i,a);var l=Pa;if(l&&e){var h=hr(l).hoistableStyles,d=Ua(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(al(d)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&pd(e,a);var b=v=l.createElement("link");Jt(b),Be(b,"link",e),b._p=new Promise(function(M,F){b.onload=M,b.onerror=F}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function OA(e,i){ji.X(e,i);var a=Pa;if(a&&e){var l=hr(a).hoistableScripts,h=La(e),d=l.get(h);d||(d=a.querySelector(ol(h)),d||(e=D({src:e,async:!0},i),(i=Pn.get(h))&&gd(e,i),d=a.createElement("script"),Jt(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function NA(e,i){ji.M(e,i);var a=Pa;if(a&&e){var l=hr(a).hoistableScripts,h=La(e),d=l.get(h);d||(d=a.querySelector(ol(h)),d||(e=D({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&gd(e,i),d=a.createElement("script"),Jt(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $_(e,i,a,l){var h=(h=vn.current)?sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=hr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ua(a.href);var d=hr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(al(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||VA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=hr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+re(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function W_(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),Jt(i),e.head.appendChild(i))}function La(e){return'[src="'+re(e)+'"]'}function ol(e){return"script[async]"+e}function Z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return i.instance=l,Jt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Jt(l),Be(l,"style",h),ac(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ua(a.href);var d=e.querySelector(al(h));if(d)return i.state.loading|=4,i.instance=d,Jt(d),d;l=W_(a),(h=Pn.get(h))&&pd(l,h),d=(e.ownerDocument||e).createElement("link"),Jt(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Be(d,"link",l),i.state.loading|=4,ac(d,a.precedence,e),i.instance=d;case"script":return d=La(a.src),(h=e.querySelector(ol(d)))?(i.instance=h,Jt(h),h):(l=a,(h=Pn.get(d))&&(l=D({},a),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Jt(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,ac(l,a.precedence,e));return i.instance}function ac(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var oc=null;function J_(e,i,a){if(oc===null){var l=new Map,h=oc=new Map;h.set(a,l)}else h=oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ur]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function ty(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function MA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ey(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ll=null;function kA(){}function PA(e,i,a){if(ll===null)throw Error(s(475));var l=ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Ua(a.href),d=e.querySelector(al(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=lc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Jt(d);return}d=e.ownerDocument||e,a=W_(a),(h=Pn.get(h))&&pd(a,h),d=d.createElement("link"),Jt(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=lc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function UA(){if(ll===null)throw Error(s(475));var e=ll;return e.stylesheets&&e.count===0&&_d(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&_d(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function _d(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,i.forEach(LA,e),uc=null,lc.call(e))}function LA(e,i){if(!(i.state.loading&4)){var a=uc.get(e);if(a)var l=a.get(null);else{a=new Map,uc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ul={$$typeof:V,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function xA(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ny(e,i,a,l,h,d,v,E,b,M,F,X){return e=new xA(e,i,a,v,E,b,M,X),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),e.current=d,d.stateNode=e,i=Yh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Df(d),e}function iy(e){return e?(e=pa,e):pa}function ry(e,i,a,l,h,d){h=iy(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(e,l,i),a!==null&&(rn(a,e,i),Ko(a,e,i))}function sy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function yd(e,i){sy(e,i),(e=e.alternate)&&sy(e,i)}function ay(e){if(e.tag===13){var i=_r(e,67108864);i!==null&&rn(i,e,67108864),yd(e,67108864)}}var cc=!0;function zA(e,i,a,l){var h=S.T;S.T=null;var d=nt.p;try{nt.p=2,vd(e,i,a,l)}finally{nt.p=d,S.T=h}}function BA(e,i,a,l){var h=S.T;S.T=null;var d=nt.p;try{nt.p=8,vd(e,i,a,l)}finally{nt.p=d,S.T=h}}function vd(e,i,a,l){if(cc){var h=Ed(l);if(h===null)od(e,i,l,hc,a),ly(e,l);else if(qA(h,e,i,a,l))l.stopPropagation();else if(ly(e,l),i&4&&-1<jA.indexOf(e)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Je(v);E.entanglements[1]|=b,v&=~b}oi(d),!(ee&6)&&(Yu=sn()+500,il(0))}}break;case 13:E=_r(d,2),E!==null&&rn(E,d,2),Wu(),yd(d,2)}if(d=Ed(l),d===null&&od(e,i,l,hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else od(e,i,l,null,a)}}function Ed(e){return e=ia(e),Td(e)}var hc=null;function Td(e){if(hc=null,e=zn(e),e!==null){var i=ct(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=qt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return hc=e,null}function oy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case ve:return 2;case Ce:return 8;case _i:case Wl:return 32;case co:return 268435456;default:return 32}default:return 32}}var Ad=!1,Vr=null,Mr=null,kr=null,cl=new Map,hl=new Map,Pr=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(e,i){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(i.pointerId)}}function fl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&ay(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function qA(e,i,a,l,h){switch(i){case"focusin":return Vr=fl(Vr,e,i,a,l,h),!0;case"dragenter":return Mr=fl(Mr,e,i,a,l,h),!0;case"mouseover":return kr=fl(kr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return cl.set(d,fl(cl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,e,i,a,l,h)),!0}return!1}function uy(e){var i=zn(e.target);if(i!==null){var a=ct(i);if(a!==null){if(i=a.tag,i===13){if(i=qt(a),i!==null){e.blockedOn=i,lr(e.priority,function(){if(a.tag===13){var l=_n(),h=_r(a,l);h!==null&&rn(h,a,l),yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ed(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Sn=l,a.target.dispatchEvent(l),Sn=null}else return i=vi(a),i!==null&&ay(i),e.blockedOn=a,!1;i.shift()}return!0}function cy(e,i,a){fc(e)&&a.delete(i)}function HA(){Ad=!1,Vr!==null&&fc(Vr)&&(Vr=null),Mr!==null&&fc(Mr)&&(Mr=null),kr!==null&&fc(kr)&&(kr=null),cl.forEach(cy),hl.forEach(cy)}function dc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HA)))}var mc=null;function hy(e){mc!==e&&(mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Td(l||a)===null)continue;break}var d=vi(a);d!==null&&(e.splice(i,3),i-=3,hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function dl(e){function i(b){return dc(b,e)}Vr!==null&&dc(Vr,e),Mr!==null&&dc(Mr,e),kr!==null&&dc(kr,e),cl.forEach(i),hl.forEach(i);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)uy(a),a.blockedOn===null&&Pr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ee]||null;if(typeof d=="function")v||hy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ee]||null)E=v.formAction;else if(Td(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),hy(a)}}}function Sd(e){this._internalRoot=e}pc.prototype.render=Sd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();ry(a,l,e,i,null,null)},pc.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Va(),ry(e.current,2,null,e,null,null),Wu(),i[yi]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=nu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Pr.length&&i!==0&&i<Pr[a].priority;a++);Pr.splice(a,0,e),a===0&&uy(e)}};var fy=t.version;if(fy!=="19.0.0")throw Error(s(527,fy,"19.0.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=W(i),e=e!==null?ot(e):null,e=e===null?null:e.stateNode,e};var FA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{nr=gc.inject(FA),Fe=gc}catch{}}return pl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Dg,d=Og,v=Ng,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=ny(e,1,!1,null,null,a,l,h,d,v,E,null),e[yi]=i.current,ad(e.nodeType===8?e.parentNode:e),new Sd(i)},pl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Dg,v=Og,E=Ng,b=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),i=ny(e,1,!0,i,a??null,l,h,d,v,E,b,M),i.context=iy(null),a=i.current,l=_n(),h=br(l),h.callback=null,wr(a,h,l),i.current.lanes=l,le(i,l),oi(i),e[yi]=i.current,ad(e),new pc(i)},pl.version="19.0.0",pl}var Ay;function tS(){if(Ay)return Rd.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=JA(),Rd.exports}var eS=tS(),Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},nS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let R=(p&15)<<2|_>>6,V=_&63;g||(V=64,f||(R=64)),s.push(n[A],n[w],n[R],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Wv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):nS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||w==null)throw new iS;const R=c<<2|p>>4;if(s.push(R),_!==64){const V=p<<4&240|_>>2;if(s.push(V),w!==64){const j=_<<6&192|w;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(r){const t=Wv(r);return Zv.encodeByteArray(t,!0)},Mc=function(r){return rS(r).replace(/\./g,"")},Jv=function(r){try{return Zv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>sS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof Sy>"u")return;const r=Sy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Jv(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return aS()||oS()||lS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tE=r=>{var t,n;return(n=(t=eh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},uS=r=>{const t=tE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},eE=()=>{var r;return(r=eh())===null||r===void 0?void 0:r.config},nE=r=>{var t;return(t=eh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mc(JSON.stringify(n)),Mc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function dS(){var r;const t=(r=eh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yS(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class Ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=TS,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?AS(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,p,s)}}function AS(r,t){return r.replace(SS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function bS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function kc(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(by(c)&&by(f)){if(!kc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function by(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function gl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function _l(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function wS(r,t){const n=new RS(r,t);return n.subscribe.bind(n)}class RS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r){return r&&r._delegate?r._delegate:r}class zs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new cS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OS(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(r){return r===Ls?void 0:r}function OS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new CS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const VS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},MS=Dt.INFO,kS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},PS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=kS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=MS,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const US=(r,t)=>t.some(n=>r instanceof n);let wy,Ry;function LS(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,jd=new WeakMap,rE=new WeakMap,Nd=new WeakMap,gm=new WeakMap;function zS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&iE.set(n,r)}).catch(()=>{}),gm.set(t,r),t}function BS(r){if(jd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});jd.set(r,t)}let qd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||rE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function jS(r){qd=r(qd)}function qS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Vd(this),t,...n);return rE.set(s,t.sort?t.sort():[t]),Hr(s)}:xS().includes(r)?function(...t){return r.apply(Vd(this),t),Hr(iE.get(this))}:function(...t){return Hr(r.apply(Vd(this),t))}}function HS(r){return typeof r=="function"?qS(r):(r instanceof IDBTransaction&&BS(r),US(r,LS())?new Proxy(r,qd):r)}function Hr(r){if(r instanceof IDBRequest)return zS(r);if(Nd.has(r))return Nd.get(r);const t=HS(r);return t!==r&&(Nd.set(r,t),gm.set(t,r)),t}const Vd=r=>gm.get(r);function FS(r,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),p=Hr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hr(f.result),g.oldVersion,g.newVersion,Hr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Md=new Map;function Iy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=KS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return Md.set(t,c),c}jS(r=>({...r,get:(t,n,s)=>Iy(t,n)||r.get(t,n,s),has:(t,n)=>!!Iy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hd="@firebase/app",Cy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new pm("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",WS="@firebase/analytics",ZS="@firebase/app-check-compat",JS="@firebase/app-check",tb="@firebase/auth",eb="@firebase/auth-compat",nb="@firebase/database",ib="@firebase/data-connect",rb="@firebase/database-compat",sb="@firebase/functions",ab="@firebase/functions-compat",ob="@firebase/installations",lb="@firebase/installations-compat",ub="@firebase/messaging",cb="@firebase/messaging-compat",hb="@firebase/performance",fb="@firebase/performance-compat",db="@firebase/remote-config",mb="@firebase/remote-config-compat",pb="@firebase/storage",gb="@firebase/storage-compat",_b="@firebase/firestore",yb="@firebase/vertexai",vb="@firebase/firestore-compat",Eb="firebase",Tb="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",Ab={[Hd]:"fire-core",[XS]:"fire-core-compat",[WS]:"fire-analytics",[$S]:"fire-analytics-compat",[JS]:"fire-app-check",[ZS]:"fire-app-check-compat",[tb]:"fire-auth",[eb]:"fire-auth-compat",[nb]:"fire-rtdb",[ib]:"fire-data-connect",[rb]:"fire-rtdb-compat",[sb]:"fire-fn",[ab]:"fire-fn-compat",[ob]:"fire-iid",[lb]:"fire-iid-compat",[ub]:"fire-fcm",[cb]:"fire-fcm-compat",[hb]:"fire-perf",[fb]:"fire-perf-compat",[db]:"fire-rc",[mb]:"fire-rc-compat",[pb]:"fire-gcs",[gb]:"fire-gcs-compat",[_b]:"fire-fst",[vb]:"fire-fst-compat",[yb]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,Sb=new Map,Gd=new Map;function Dy(r,t){try{r.container.addComponent(t)}catch(n){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const t=r.name;if(Gd.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,r);for(const n of Pc.values())Dy(n,r);for(const n of Sb.values())Dy(n,r);return!0}function _m(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Ll("app","Firebase",bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Tb;function sE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Fd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(n||(n=eE()),!n)throw Fr.create("no-options");const c=Pc.get(o);if(c){if(kc(n,c.options)&&kc(s,c.config))return c;throw Fr.create("duplicate-app",{appName:o})}const f=new NS(o);for(const g of Gd.values())f.addComponent(g);const p=new wb(n,s,f);return Pc.set(o,p),p}function aE(r=Fd){const t=Pc.get(r);if(!t&&r===Fd&&eE())return sE();if(!t)throw Fr.create("no-app",{appName:r});return t}function Gr(r,t,n){var s;let o=(s=Ab[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${o}" with version "${t}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(p.join(" "));return}Qa(new zs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Ib=1,Il="firebase-heartbeat-store";let kd=null;function oE(){return kd||(kd=FS(Rb,Ib,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),kd}async function Cb(r){try{const n=(await oE()).transaction(Il),s=await n.objectStore(Il).get(lE(r));return await n.done,s}catch(t){if(t instanceof Ji)Yi.warn(t.message);else{const n=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yi.warn(n.message)}}}async function Oy(r,t){try{const s=(await oE()).transaction(Il,"readwrite");await s.objectStore(Il).put(t,lE(r)),await s.done}catch(n){if(n instanceof Ji)Yi.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(s.message)}}}function lE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1024,Ob=30;class Nb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ny();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Ob){const f=kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ny(),{heartbeatsToSend:s,unsentEntries:o}=Vb(this._heartbeatsCache.heartbeats),c=Mc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Yi.warn(n),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function Vb(r,t=Db){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Vy(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Mb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Vy(r){return Mc(JSON.stringify({version:2,heartbeats:r})).length}function kb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(r){Qa(new zs("platform-logger",t=>new QS(t),"PRIVATE")),Qa(new zs("heartbeat",t=>new Nb(t),"PRIVATE")),Gr(Hd,Cy,r),Gr(Hd,Cy,"esm2017"),Gr("fire-js","")}Pb("");var Ub="firebase",Lb="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(Ub,Lb,"app");function ym(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xb=uE,cE=new Ll("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new pm("@firebase/auth");function zb(r,...t){Uc.logLevel<=Dt.WARN&&Uc.warn(`Auth (${no}): ${r}`,...t)}function Sc(r,...t){Uc.logLevel<=Dt.ERROR&&Uc.error(`Auth (${no}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r,...t){throw vm(r,...t)}function ui(r,...t){return vm(r,...t)}function hE(r,t,n){const s=Object.assign(Object.assign({},xb()),{[t]:n});return new Ll("auth","Firebase",s).create(t,{appName:r.name})}function Gi(r){return hE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return cE.create(r,...t)}function pt(r,t,...n){if(!r)throw vm(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sc(t),new Error(t)}function Xi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Bb(){return My()==="http:"||My()==="https:"}function My(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bb()||pS()||"connection"in navigator)?navigator.onLine:!0}function qb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xi(n>t,"Short delay should be less than long delay!"),this.isMobile=fS()||gS()}get(){return jb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,t){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new zl(3e4,6e4);function es(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ns(r,t,n,s,o={}){return dE(r,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const p=xl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:g},c);return mS()||(_.referrerPolicy="no-referrer"),fE.fetch()(mE(r,r.config.apiHost,n,p),_)})}async function dE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Hb),t);try{const o=new Kb(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw _c(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw _c(r,"user-disabled",f);const A=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw hE(r,A,_);Fn(r,A)}}catch(o){if(o instanceof Ji)throw o;Fn(r,"network-request-failed",{message:String(o)})}}async function Bl(r,t,n,s,o={}){const c=await ns(r,t,n,s,o);return"mfaPendingCredential"in c&&Fn(r,"multi-factor-auth-required",{_serverResponse:c}),c}function mE(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?Em(r.config,o):`${r.config.apiScheme}://${o}`}function Gb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),Fb.get())})}}function _c(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ui(r,t,s);return o.customData._tokenResponse=n,o}function ky(r){return r!==void 0&&r.enterprise!==void 0}class Qb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Gb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yb(r,t){return ns(r,"GET","/v2/recaptchaConfig",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(r,t){return ns(r,"POST","/v1/accounts:delete",t)}async function pE(r,t){return ns(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $b(r,t=!1){const n=Ie(r),s=await n.getIdToken(t),o=Tm(s);pt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Al(Pd(o.auth_time)),issuedAtTime:Al(Pd(o.iat)),expirationTime:Al(Pd(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Pd(r){return Number(r)*1e3}function Tm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jv(n);return o?JSON.parse(o):(Sc("Failed to decode base64 JWT payload"),null)}catch(o){return Sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Py(r){const t=Tm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ji&&Wb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Wb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Cl(r,pE(n,{idToken:s}));pt(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?gE(c.providerUserInfo):[],p=tw(r.providerData,f),g=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(p!=null&&p.length),A=g?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Qd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,w)}async function Jb(r){const t=Ie(r);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tw(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function gE(r){return r.map(t=>{var{providerId:n}=t,s=ym(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,t){const n=await dE(r,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=mE(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",fE.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nw(r,t){return ns(r,"POST","/v2/accounts:revokeToken",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Py(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=Py(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await ew(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new Ha;return s&&(pt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(pt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(pt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,c=ym(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Qd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $b(this,t)}reload(){return Jb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Gi(this.auth));const t=await this.getIdToken();return await Cl(this,Xb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,c,f,p,g,_,A;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,V=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,j=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Q=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,ut=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ft=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:_t,emailVerified:Lt,isAnonymous:vt,providerData:Ct,stsTokenManager:P}=n;pt(_t&&P,t,"internal-error");const I=Ha.fromJSON(this.name,P);pt(typeof _t=="string",t,"internal-error"),Lr(w,t.name),Lr(R,t.name),pt(typeof Lt=="boolean",t,"internal-error"),pt(typeof vt=="boolean",t,"internal-error"),Lr(V,t.name),Lr(j,t.name),Lr($,t.name),Lr(Q,t.name),Lr(ut,t.name),Lr(ft,t.name);const S=new Hi({uid:_t,auth:t,email:R,emailVerified:Lt,displayName:w,isAnonymous:vt,photoURL:j,phoneNumber:V,tenantId:$,stsTokenManager:I,createdAt:ut,lastLoginAt:ft});return Ct&&Array.isArray(Ct)&&(S.providerData=Ct.map(D=>Object.assign({},D))),Q&&(S._redirectEventId=Q),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ha;o.updateFromServerResponse(n);const c=new Hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Lc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];pt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Ha;p.updateFromIdToken(s);const g=new Hi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;function Fi(r){Xi(r instanceof Function,"Expected a class definition");let t=Uy.get(r);return t?(Xi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Uy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_E.type="NONE";const Ly=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r,t,n){return`firebase:${r}:${t}:${n}`}class Fa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,c),this.fullPersistenceKey=bc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Fa(Fi(Ly),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Fi(Ly);const f=bc(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const A=await _._get(f);if(A){const w=Hi._fromJSON(t,A);_!==c&&(p=w),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Fa(c,t,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Fa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SE(t))return"Blackberry";if(bE(t))return"Webos";if(vE(t))return"Safari";if((t.includes("chrome/")||EE(t))&&!t.includes("edge/"))return"Chrome";if(AE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function yE(r=We()){return/firefox\//i.test(r)}function vE(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EE(r=We()){return/crios\//i.test(r)}function TE(r=We()){return/iemobile/i.test(r)}function AE(r=We()){return/android/i.test(r)}function SE(r=We()){return/blackberry/i.test(r)}function bE(r=We()){return/webos/i.test(r)}function Am(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iw(r=We()){var t;return Am(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rw(){return _S()&&document.documentMode===10}function wE(r=We()){return Am(r)||AE(r)||bE(r)||SE(r)||/windows phone/i.test(r)||TE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r,t=[]){let n;switch(r){case"Browser":n=xy(We());break;case"Worker":n=`${xy(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,p)=>{try{const g=t(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(r,t={}){return ns(r,"GET","/v2/passwordPolicy",es(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=6;class lw{constructor(t){var n,s,o,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:ow,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,c,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zy(this),this.idTokenSubscription=new zy(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await pE(this,{idToken:t}),s=await Hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Gi(this));const n=t?Ie(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aw(this),n=new lw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nw(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&zb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fs(r){return Ie(r)}class zy{constructor(t){this.auth=t,this.observer=null,this.addObserver=wS(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cw(r){nh=r}function IE(r){return nh.loadJS(r)}function hw(){return nh.recaptchaEnterpriseScript}function fw(){return nh.gapiScript}function dw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class mw{constructor(){this.enterprise=new pw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class pw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const gw="recaptcha-enterprise",CE="NO_RECAPTCHA";class _w{constructor(t){this.type=gw,this.auth=Fs(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,p)=>{Yb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Qb(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function o(c,f,p){const g=window.grecaptcha;ky(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(CE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mw().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(p=>{if(!n&&ky(window.grecaptcha))o(p,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=hw();g.length!==0&&(g+=p),IE(g).then(()=>{o(p,c,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function By(r,t,n,s=!1,o=!1){const c=new _w(r);let f;if(o)f=CE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const p=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Yd(r,t,n,s,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await By(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await By(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,t){const n=_m(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(kc(c,t??{}))return o;Fn(o,"already-initialized")}return n.initialize({options:t})}function vw(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function Ew(r,t,n){const s=Fs(r);pt(s._canInitEmulator,s,"emulator-config-failed"),pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=DE(t),{host:f,port:p}=Tw(t),g=p===null?"":`:${p}`;s.config.emulator={url:`${c}//${f}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),Aw()}function DE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Tw(r){const t=DE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:jy(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:jy(f)}}}function jy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Aw(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}async function Sw(r,t){return ns(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,t){return Bl(r,"POST","/v1/accounts:signInWithPassword",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,t){return Bl(r,"POST","/v1/accounts:signInWithEmailLink",es(r,t))}async function Rw(r,t){return Bl(r,"POST","/v1/accounts:signInWithEmailLink",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Sm{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Dl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Dl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(t,n,"signInWithPassword",bw);case"emailLink":return ww(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(t,s,"signUpPassword",Sw);case"emailLink":return Rw(t,{idToken:n,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return Bl(r,"POST","/v1/accounts:signInWithIdp",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="http://localhost";class Bs extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,c=ym(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Bs(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ga(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ga(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ga(t,n)}buildRequest(){const t={requestUri:Iw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=xl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dw(r){const t=gl(_l(r)).link,n=t?gl(_l(t)).deep_link_id:null,s=gl(_l(r)).deep_link_id;return(s?gl(_l(s)).link:null)||s||n||t||r}class bm{constructor(t){var n,s,o,c,f,p;const g=gl(_l(t)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,A=(s=g.oobCode)!==null&&s!==void 0?s:null,w=Cw((o=g.mode)!==null&&o!==void 0?o:null);pt(_&&A&&w,"argument-error"),this.apiKey=_,this.operation=w,this.code=A,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const n=Dw(t);try{return new bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(t,n){return Dl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=bm.parseLink(n);return pt(s,"argument-error"),Dl._fromEmailAndCode(t,s.code,s.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends OE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends jl{constructor(){super("facebook.com")}static credential(t){return Bs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends jl{constructor(){super("github.com")}static credential(t){return Bs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends jl{constructor(){super("twitter.com")}static credential(t,n){return Bs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,t){return Bl(r,"POST","/v1/accounts:signUp",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await Hi._fromIdTokenResponse(t,s,o),f=qy(s);return new js({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=qy(s);return new js({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function qy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Ji{constructor(t,n,s,o){var c;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new xc(t,n,s,o)}}function NE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(r,c,t,s):c})}async function Nw(r,t,n=!1){const s=await Cl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return js._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(r,t,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(Gi(s));const o="reauthenticate";try{const c=await Cl(r,NE(s,o,t,r),n);pt(c.idToken,s,"internal-error");const f=Tm(c.idToken);pt(f,s,"internal-error");const{sub:p}=f;return pt(r.uid===p,s,"user-mismatch"),js._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Fn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(r,t,n=!1){if(Un(r.app))return Promise.reject(Gi(r));const s="signIn",o=await NE(r,s,t),c=await js._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function Mw(r,t){return VE(Fs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(r){const t=Fs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kw(r,t,n){if(Un(r.app))return Promise.reject(Gi(r));const s=Fs(r),f=await Yd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ow).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&ME(r),g}),p=await js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function Pw(r,t,n){return Un(r.app)?Promise.reject(Gi(r)):Mw(Ie(r),io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ME(r),s})}function Uw(r,t,n,s){return Ie(r).onIdTokenChanged(t,n,s)}function Lw(r,t,n){return Ie(r).beforeAuthStateChanged(t,n)}function ql(r,t,n,s){return Ie(r).onAuthStateChanged(t,n,s)}function xw(r){return Ie(r).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e3,Bw=10;class PE extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);rw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Bw):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}PE.type="LOCAL";const jw=PE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}UE.type="SESSION";const LE=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new ih(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,c)),g=await qw(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const _=wm("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(R.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function Fw(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function Gw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Qw(){return xE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",Yw=1,Bc="firebaseLocalStorage",BE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(r,t){return r.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function Xw(){const r=indexedDB.deleteDatabase(zE);return new Hl(r).toPromise()}function Xd(){const r=indexedDB.open(zE,Yw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bc,{keyPath:BE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bc)?t(s):(s.close(),await Xw(),t(await Xd()))})})}async function Hy(r,t,n){const s=rh(r,!0).put({[BE]:t,value:n});return new Hl(s).toPromise()}async function $w(r,t){const n=rh(r,!1).get(t),s=await new Hl(n).toPromise();return s===void 0?null:s.value}function Fy(r,t){const n=rh(r,!0).delete(t);return new Hl(n).toPromise()}const Ww=800,Zw=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Zw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(Qw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Gw(),!this.activeServiceWorker)return;this.sender=new Hw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await Hy(t,zc,"1"),await Fy(t,zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$w(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=rh(o,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const Jw=jE;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r,t){return t?Fi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends Sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ga(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eR(r){return VE(r.auth,new Rm(r),r.bypassAuthState)}function nR(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),Vw(n,new Rm(r),r.bypassAuthState)}async function iR(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),Nw(n,new Rm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eR;case"linkViaPopup":case"linkViaRedirect":return iR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:Fn(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new zl(2e3,1e4);class qa extends qE{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rR.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="pendingRedirect",wc=new Map;class aR extends qE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const s=await oR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oR(r,t){const n=cR(t),s=uR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function lR(r,t){wc.set(r._key(),t)}function uR(r){return Fi(r._redirectPersistence)}function cR(r){return bc(sR,r.config.apiKey,r.name)}async function hR(r,t,n=!1){if(Un(r.app))return Promise.reject(Gi(r));const s=Fs(r),o=tR(s,t),f=await new aR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=10*60*1e3;class dR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!HE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gy(t))}saveEventToCache(t){this.cachedEventUids.add(Gy(t)),this.lastProcessedEventTime=Date.now()}}function Gy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function HE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,t={}){return ns(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function yR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pR(r);for(const n of t)try{if(vR(n))return}catch{}Fn(r,"unauthorized-domain")}function vR(r){const t=Kd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!_R.test(n))return!1;if(gR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new zl(3e4,6e4);function Ky(){const r=ci().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function TR(r){return new Promise((t,n)=>{var s,o,c;function f(){Ky(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ky(),n(ui(r,"network-request-failed"))},timeout:ER.get()})}if(!((o=(s=ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=ci().gapi)===null||c===void 0)&&c.load)f();else{const p=dw("iframefcb");return ci()[p]=()=>{gapi.load?f():n(ui(r,"network-request-failed"))},IE(`${fw()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function AR(r){return Rc=Rc||TR(r),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new zl(5e3,15e3),bR="__/auth/iframe",wR="emulator/auth/iframe",RR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CR(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Em(t,wR):`https://${r.config.authDomain}/${bR}`,s={apiKey:t.apiKey,appName:r.name,v:no},o=IR.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${xl(s).slice(1)}`}async function DR(r){const t=await AR(r),n=ci().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:CR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RR,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=ui(r,"network-request-failed"),p=ci().setTimeout(()=>{c(f)},SR.get());function g(){ci().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NR=500,VR=600,MR="_blank",kR="http://localhost";class Qy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PR(r,t,n,s=NR,o=VR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},OR),{width:s.toString(),height:o.toString(),top:c,left:f}),_=We().toLowerCase();n&&(p=EE(_)?MR:n),yE(_)&&(t=t||kR,g.scrollbars="yes");const A=Object.entries(g).reduce((R,[V,j])=>`${R}${V}=${j},`,"");if(iw(_)&&p!=="_self")return UR(t||"",p),new Qy(null);const w=window.open(t||"",p,A);pt(w,r,"popup-blocked");try{w.focus()}catch{}return new Qy(w)}function UR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="__/auth/handler",xR="emulator/auth/handler",zR=encodeURIComponent("fac");async function Yy(r,t,n,s,o,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:no,eventId:o};if(t instanceof OE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",bS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))f[A]=w}if(t instanceof jl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await r._getAppCheckToken(),_=g?`#${zR}=${encodeURIComponent(g)}`:"";return`${BR(r)}?${xl(p).slice(1)}${_}`}function BR({config:r}){return r.emulator?Em(r,xR):`https://${r.authDomain}/${LR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class jR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=hR,this._overrideRedirectResult=lR}async _openPopup(t,n,s,o){var c;Xi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Yy(t,n,s,Kd(),o);return PR(t,f,wm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await Yy(t,n,s,Kd(),o);return Fw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Xi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await DR(t),s=new dR(t);return n.register("authEvent",o=>(pt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ud,{type:Ud},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Ud];f!==void 0&&n(!!f),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wE()||vE()||Am()}}const qR=jR;var Xy="@firebase/auth",$y="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(r){Qa(new zs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;pt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(r)},_=new uw(s,o,c,g);return vw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Qa(new zs("auth-internal",t=>{const n=Fs(t.getProvider("auth").getImmediate());return(s=>new HR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(Xy,$y,FR(r)),Gr(Xy,$y,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=5*60,QR=nE("authIdTokenMaxAge")||KR;let Wy=null;const YR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>QR)return;const o=n==null?void 0:n.token;Wy!==o&&(Wy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XR(r=aE()){const t=_m(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yw(r,{popupRedirectResolver:qR,persistence:[Jw,jw,LE]}),s=nE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=YR(c.toString());Lw(n,f,()=>f(n.currentUser)),Uw(n,p=>f(p))}}const o=tE("auth");return o&&Ew(n,`http://${o}`),n}function $R(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}cw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const c=ui("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",$R().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,FE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,I){function S(){}S.prototype=I.prototype,P.D=I.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(D,k,x){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return I.prototype[k].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,S){S||(S=0);var D=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)D[k]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(k=0;16>k;++k)D[k]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=P.g[0],S=P.g[1],k=P.g[2];var x=P.g[3],C=I+(x^S&(k^x))+D[0]+3614090360&4294967295;I=S+(C<<7&4294967295|C>>>25),C=x+(k^I&(S^k))+D[1]+3905402710&4294967295,x=I+(C<<12&4294967295|C>>>20),C=k+(S^x&(I^S))+D[2]+606105819&4294967295,k=x+(C<<17&4294967295|C>>>15),C=S+(I^k&(x^I))+D[3]+3250441966&4294967295,S=k+(C<<22&4294967295|C>>>10),C=I+(x^S&(k^x))+D[4]+4118548399&4294967295,I=S+(C<<7&4294967295|C>>>25),C=x+(k^I&(S^k))+D[5]+1200080426&4294967295,x=I+(C<<12&4294967295|C>>>20),C=k+(S^x&(I^S))+D[6]+2821735955&4294967295,k=x+(C<<17&4294967295|C>>>15),C=S+(I^k&(x^I))+D[7]+4249261313&4294967295,S=k+(C<<22&4294967295|C>>>10),C=I+(x^S&(k^x))+D[8]+1770035416&4294967295,I=S+(C<<7&4294967295|C>>>25),C=x+(k^I&(S^k))+D[9]+2336552879&4294967295,x=I+(C<<12&4294967295|C>>>20),C=k+(S^x&(I^S))+D[10]+4294925233&4294967295,k=x+(C<<17&4294967295|C>>>15),C=S+(I^k&(x^I))+D[11]+2304563134&4294967295,S=k+(C<<22&4294967295|C>>>10),C=I+(x^S&(k^x))+D[12]+1804603682&4294967295,I=S+(C<<7&4294967295|C>>>25),C=x+(k^I&(S^k))+D[13]+4254626195&4294967295,x=I+(C<<12&4294967295|C>>>20),C=k+(S^x&(I^S))+D[14]+2792965006&4294967295,k=x+(C<<17&4294967295|C>>>15),C=S+(I^k&(x^I))+D[15]+1236535329&4294967295,S=k+(C<<22&4294967295|C>>>10),C=I+(k^x&(S^k))+D[1]+4129170786&4294967295,I=S+(C<<5&4294967295|C>>>27),C=x+(S^k&(I^S))+D[6]+3225465664&4294967295,x=I+(C<<9&4294967295|C>>>23),C=k+(I^S&(x^I))+D[11]+643717713&4294967295,k=x+(C<<14&4294967295|C>>>18),C=S+(x^I&(k^x))+D[0]+3921069994&4294967295,S=k+(C<<20&4294967295|C>>>12),C=I+(k^x&(S^k))+D[5]+3593408605&4294967295,I=S+(C<<5&4294967295|C>>>27),C=x+(S^k&(I^S))+D[10]+38016083&4294967295,x=I+(C<<9&4294967295|C>>>23),C=k+(I^S&(x^I))+D[15]+3634488961&4294967295,k=x+(C<<14&4294967295|C>>>18),C=S+(x^I&(k^x))+D[4]+3889429448&4294967295,S=k+(C<<20&4294967295|C>>>12),C=I+(k^x&(S^k))+D[9]+568446438&4294967295,I=S+(C<<5&4294967295|C>>>27),C=x+(S^k&(I^S))+D[14]+3275163606&4294967295,x=I+(C<<9&4294967295|C>>>23),C=k+(I^S&(x^I))+D[3]+4107603335&4294967295,k=x+(C<<14&4294967295|C>>>18),C=S+(x^I&(k^x))+D[8]+1163531501&4294967295,S=k+(C<<20&4294967295|C>>>12),C=I+(k^x&(S^k))+D[13]+2850285829&4294967295,I=S+(C<<5&4294967295|C>>>27),C=x+(S^k&(I^S))+D[2]+4243563512&4294967295,x=I+(C<<9&4294967295|C>>>23),C=k+(I^S&(x^I))+D[7]+1735328473&4294967295,k=x+(C<<14&4294967295|C>>>18),C=S+(x^I&(k^x))+D[12]+2368359562&4294967295,S=k+(C<<20&4294967295|C>>>12),C=I+(S^k^x)+D[5]+4294588738&4294967295,I=S+(C<<4&4294967295|C>>>28),C=x+(I^S^k)+D[8]+2272392833&4294967295,x=I+(C<<11&4294967295|C>>>21),C=k+(x^I^S)+D[11]+1839030562&4294967295,k=x+(C<<16&4294967295|C>>>16),C=S+(k^x^I)+D[14]+4259657740&4294967295,S=k+(C<<23&4294967295|C>>>9),C=I+(S^k^x)+D[1]+2763975236&4294967295,I=S+(C<<4&4294967295|C>>>28),C=x+(I^S^k)+D[4]+1272893353&4294967295,x=I+(C<<11&4294967295|C>>>21),C=k+(x^I^S)+D[7]+4139469664&4294967295,k=x+(C<<16&4294967295|C>>>16),C=S+(k^x^I)+D[10]+3200236656&4294967295,S=k+(C<<23&4294967295|C>>>9),C=I+(S^k^x)+D[13]+681279174&4294967295,I=S+(C<<4&4294967295|C>>>28),C=x+(I^S^k)+D[0]+3936430074&4294967295,x=I+(C<<11&4294967295|C>>>21),C=k+(x^I^S)+D[3]+3572445317&4294967295,k=x+(C<<16&4294967295|C>>>16),C=S+(k^x^I)+D[6]+76029189&4294967295,S=k+(C<<23&4294967295|C>>>9),C=I+(S^k^x)+D[9]+3654602809&4294967295,I=S+(C<<4&4294967295|C>>>28),C=x+(I^S^k)+D[12]+3873151461&4294967295,x=I+(C<<11&4294967295|C>>>21),C=k+(x^I^S)+D[15]+530742520&4294967295,k=x+(C<<16&4294967295|C>>>16),C=S+(k^x^I)+D[2]+3299628645&4294967295,S=k+(C<<23&4294967295|C>>>9),C=I+(k^(S|~x))+D[0]+4096336452&4294967295,I=S+(C<<6&4294967295|C>>>26),C=x+(S^(I|~k))+D[7]+1126891415&4294967295,x=I+(C<<10&4294967295|C>>>22),C=k+(I^(x|~S))+D[14]+2878612391&4294967295,k=x+(C<<15&4294967295|C>>>17),C=S+(x^(k|~I))+D[5]+4237533241&4294967295,S=k+(C<<21&4294967295|C>>>11),C=I+(k^(S|~x))+D[12]+1700485571&4294967295,I=S+(C<<6&4294967295|C>>>26),C=x+(S^(I|~k))+D[3]+2399980690&4294967295,x=I+(C<<10&4294967295|C>>>22),C=k+(I^(x|~S))+D[10]+4293915773&4294967295,k=x+(C<<15&4294967295|C>>>17),C=S+(x^(k|~I))+D[1]+2240044497&4294967295,S=k+(C<<21&4294967295|C>>>11),C=I+(k^(S|~x))+D[8]+1873313359&4294967295,I=S+(C<<6&4294967295|C>>>26),C=x+(S^(I|~k))+D[15]+4264355552&4294967295,x=I+(C<<10&4294967295|C>>>22),C=k+(I^(x|~S))+D[6]+2734768916&4294967295,k=x+(C<<15&4294967295|C>>>17),C=S+(x^(k|~I))+D[13]+1309151649&4294967295,S=k+(C<<21&4294967295|C>>>11),C=I+(k^(S|~x))+D[4]+4149444226&4294967295,I=S+(C<<6&4294967295|C>>>26),C=x+(S^(I|~k))+D[11]+3174756917&4294967295,x=I+(C<<10&4294967295|C>>>22),C=k+(I^(x|~S))+D[2]+718787259&4294967295,k=x+(C<<15&4294967295|C>>>17),C=S+(x^(k|~I))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+x&4294967295}s.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var S=I-this.blockSize,D=this.B,k=this.h,x=0;x<I;){if(k==0)for(;x<=S;)o(this,P,x),x+=this.blockSize;if(typeof P=="string"){for(;x<I;)if(D[k++]=P.charCodeAt(x++),k==this.blockSize){o(this,D),k=0;break}}else for(;x<I;)if(D[k++]=P[x++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var S=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=S&255,S/=256;for(this.u(P),P=Array(16),I=S=0;4>I;++I)for(var D=0;32>D;D+=8)P[S++]=this.g[I]>>>D&255;return P};function c(P,I){var S=p;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=I(P)}function f(P,I){this.h=I;for(var S=[],D=!0,k=P.length-1;0<=k;k--){var x=P[k]|0;D&&x==I||(S[k]=x,D=!1)}this.g=S}var p={};function g(P){return-128<=P&&128>P?c(P,function(I){return new f([I|0],0>I?-1:0)}):new f([P|0],0>P?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return Q(_(-P));for(var I=[],S=1,D=0;P>=S;D++)I[D]=P/S|0,S*=4294967296;return new f(I,0)}function A(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return Q(A(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(I,8)),D=w,k=0;k<P.length;k+=8){var x=Math.min(8,P.length-k),C=parseInt(P.substring(k,k+x),I);8>x?(x=_(Math.pow(I,x)),D=D.j(x).add(_(C))):(D=D.j(S),D=D.add(_(C)))}return D}var w=g(0),R=g(1),V=g(16777216);r=f.prototype,r.m=function(){if($(this))return-Q(this).m();for(var P=0,I=1,S=0;S<this.g.length;S++){var D=this.i(S);P+=(0<=D?D:4294967296+D)*I,I*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(j(this))return"0";if($(this))return"-"+Q(this).toString(P);for(var I=_(Math.pow(P,6)),S=this,D="";;){var k=Lt(S,I).g;S=ut(S,k.j(I));var x=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=k,j(S))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function j(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function $(P){return P.h==-1}r.l=function(P){return P=ut(this,P),$(P)?-1:j(P)?0:1};function Q(P){for(var I=P.g.length,S=[],D=0;D<I;D++)S[D]=~P.g[D];return new f(S,~P.h).add(R)}r.abs=function(){return $(this)?Q(this):this},r.add=function(P){for(var I=Math.max(this.g.length,P.g.length),S=[],D=0,k=0;k<=I;k++){var x=D+(this.i(k)&65535)+(P.i(k)&65535),C=(x>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);D=C>>>16,x&=65535,C&=65535,S[k]=C<<16|x}return new f(S,S[S.length-1]&-2147483648?-1:0)};function ut(P,I){return P.add(Q(I))}r.j=function(P){if(j(this)||j(P))return w;if($(this))return $(P)?Q(this).j(Q(P)):Q(Q(this).j(P));if($(P))return Q(this.j(Q(P)));if(0>this.l(V)&&0>P.l(V))return _(this.m()*P.m());for(var I=this.g.length+P.g.length,S=[],D=0;D<2*I;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<P.g.length;k++){var x=this.i(D)>>>16,C=this.i(D)&65535,ye=P.i(k)>>>16,he=P.i(k)&65535;S[2*D+2*k]+=C*he,ft(S,2*D+2*k),S[2*D+2*k+1]+=x*he,ft(S,2*D+2*k+1),S[2*D+2*k+1]+=C*ye,ft(S,2*D+2*k+1),S[2*D+2*k+2]+=x*ye,ft(S,2*D+2*k+2)}for(D=0;D<I;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=I;D<2*I;D++)S[D]=0;return new f(S,0)};function ft(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function _t(P,I){this.g=P,this.h=I}function Lt(P,I){if(j(I))throw Error("division by zero");if(j(P))return new _t(w,w);if($(P))return I=Lt(Q(P),I),new _t(Q(I.g),Q(I.h));if($(I))return I=Lt(P,Q(I)),new _t(Q(I.g),I.h);if(30<P.g.length){if($(P)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var S=R,D=I;0>=D.l(P);)S=vt(S),D=vt(D);var k=Ct(S,1),x=Ct(D,1);for(D=Ct(D,2),S=Ct(S,2);!j(D);){var C=x.add(D);0>=C.l(P)&&(k=k.add(S),x=C),D=Ct(D,1),S=Ct(S,1)}return I=ut(P,k.j(I)),new _t(k,I)}for(k=w;0<=P.l(I);){for(S=Math.max(1,Math.floor(P.m()/I.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=_(S),C=x.j(I);$(C)||0<C.l(P);)S-=D,x=_(S),C=x.j(I);j(x)&&(x=R),k=k.add(x),P=ut(P,C)}return new _t(k,P)}r.A=function(P){return Lt(this,P).h},r.and=function(P){for(var I=Math.max(this.g.length,P.g.length),S=[],D=0;D<I;D++)S[D]=this.i(D)&P.i(D);return new f(S,this.h&P.h)},r.or=function(P){for(var I=Math.max(this.g.length,P.g.length),S=[],D=0;D<I;D++)S[D]=this.i(D)|P.i(D);return new f(S,this.h|P.h)},r.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),S=[],D=0;D<I;D++)S[D]=this.i(D)^P.i(D);return new f(S,this.h^P.h)};function vt(P){for(var I=P.g.length+1,S=[],D=0;D<I;D++)S[D]=P.i(D)<<1|P.i(D-1)>>>31;return new f(S,P.h)}function Ct(P,I){var S=I>>5;I%=32;for(var D=P.g.length-S,k=[],x=0;x<D;x++)k[x]=0<I?P.i(x+S)>>>I|P.i(x+S+1)<<32-I:P.i(x+S);return new f(k,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=A,Kr=f}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GE,yl,KE,Ic,$d,QE,YE,XE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,L={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function R(u,m,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:w,R.apply(null,arguments)}function V(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function j(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var J=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)J[Mt-2]=arguments[Mt];return m.prototype[L].apply(T,J)}}function $(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Q(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let J=0;J<q;J++)u[L+J]=T[J]}else u.push(T)}}class ut{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var vt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Ct(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function P(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function I(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let q=0;q<S.length;q++)y=S[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function k(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){p.setTimeout(()=>{throw u},0)}function C(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,y){const T=he.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var he=new ut(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ct=!1,qt=new ye,O=()=>{const u=p.Promise.resolve(void 0);mt=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){x(y)}var m=he;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return u}();function bt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}j(bt,et);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),xt=0;function ie(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++xt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ze(u){this.src=u,this.g={},this.h=0}Ze.prototype.add=function(u,m,y,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=vn(u,m,T,L);return-1<J?(m=u[J],y||(m.fa=!1)):(m=new ie(m,this.src,q,!!T,L),m.fa=y,u.push(m)),m};function pi(u,m){var y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Gt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function vn(u,m,y,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return L}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),er={};function gi(u,m,y,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)gi(u,m[q],y,T,L);return null}return y=$l(y),u&&u[fe]?u.K(m,y,_(T)?!!T.capture:!1,L):lo(u,m,y,!1,T,L)}function lo(u,m,y,T,L,q){if(!m)throw Error("Invalid event type");var J=_(L)?!!L.capture:!!L,Mt=uo(u);if(Mt||(u[tr]=Mt=new Ze(u)),y=Mt.add(m,y,T,J,q),y.proxy)return y;if(T=Ys(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)nt||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($s(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ys(){function u(y){return m.call(u.src,u.listener,y)}const m=wh;return u}function Xs(u,m,y,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xs(u,m[q],y,T,L);else T=_(T)?!!T.capture:!!T,y=$l(y),u&&u[fe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=vn(q,y,T,L),-1<y&&(Gt(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=uo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vn(m,y,T,L)),(y=-1<u?m[u]:null)&&ss(y))}function ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])pi(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($s(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=uo(m))?(pi(y,u),y.h==0&&(y.src=null,m[tr]=null)):Gt(u)}}}function $s(u){return u in er?er[u]:er[u]="on"+u}function wh(u,m){if(u.da)u=!0;else{m=new bt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&ss(u),u=y.call(T,m)}return u}function uo(u){return u=u[tr],u instanceof Ze?u:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(u){return typeof u=="function"?u:(u[sn]||(u[sn]=function(m){return u.handleEvent(m)}),u[sn])}function ve(){ot.call(this),this.i=new Ze(this),this.M=this,this.F=null}j(ve,ot),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(u,m,y,T){Xs(this,u,m,y,T)};function Ce(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(T,u),D(m,L)}if(L=!0,y)for(var q=y.length-1;0<=q;q--){var J=m.g=y[q];L=_i(J,T,!0,m)&&L}if(J=m.g=u,L=_i(J,T,!0,m)&&L,L=_i(J,T,!1,m)&&L,y)for(q=0;q<y.length;q++)J=m.g=y[q],L=_i(J,T,!1,m)&&L}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Gt(y[T]);delete u.g[m],u.h--}}this.F=null},ve.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ve.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function _i(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var J=m[q];if(J&&!J.da&&J.capture==y){var Mt=J.listener,Te=J.ha||J.src;J.fa&&pi(u.i,J),L=Mt.call(Te,T)!==!1&&L}}return L&&!T.defaultPrevented}function Wl(u,m,y){if(typeof u=="function")y&&(u=R(u,y));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function co(u){u.g=Wl(()=>{u.g=null,u.i&&(u.i=!1,co(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rh extends ot{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){ot.call(this),this.h=u,this.g={}}j(as,ot);var nr=[];function Fe(u){Ct(u.g,function(m,y){this.g.hasOwnProperty(y)&&ss(m)},u),u.g={}}as.prototype.N=function(){as.aa.N.call(this),Fe(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=p.JSON.stringify,Kn=p.JSON.parse,Je=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function fo(){}fo.prototype.h=null;function Zl(u){return u.h||(u.h=u.i())}function Jl(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){et.call(this,"d")}j(ir,et);function xn(){et.call(this,"c")}j(xn,et);var En={},rr=null;function Ws(){return rr=rr||new ve}En.La="serverreachability";function mo(u){et.call(this,En.La,u)}j(mo,et);function sr(u){const m=Ws();Ce(m,new mo(m))}En.STAT_EVENT="statevent";function Zs(u,m){et.call(this,En.STAT_EVENT,u),this.stat=m}j(Zs,et);function le(u){const m=Ws();Ce(m,new Zs(m,u))}En.Ma="timingevent";function tu(u,m){et.call(this,En.Ma,u),this.size=m}j(tu,et);function ar(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function eu(u,m,y,T,L,q){u.info(function(){if(u.g)if(q)for(var J="",Mt=q.split("&"),Te=0;Te<Mt.length;Te++){var kt=Mt[Te].split("=");if(1<kt.length){var Ne=kt[0];kt=kt[1];var Ae=Ne.split("_");J=2<=Ae.length&&Ae[1]=="type"?J+(Ne+"="+kt+"&"):J+(Ne+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function nu(u,m,y,T,L,q,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+q+" "+J})}function lr(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,y)+(T?" "+T:"")})}function Yn(u,m){u.info(function(){return"TIMEOUT: "+m})}or.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return ho(y)}catch{return m}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},os;function Js(){}j(Js,fo),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},os=new Js;function Xn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new po}function po(){this.i=null,this.g="",this.h=!1}var ur={},ls={};function zn(u,m,y){u.L=1,u.v=hs(re(m)),u.m=y,u.P=!0,vi(u,null)}function vi(u,m){u.F=Date.now(),Jt(u),u.A=re(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ai(y.i,"t",T),u.C=0,y=u.j.J,u.h=new po,u.g=gu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Rh(R(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(nr[0]=L.toString()),L=nr);for(var q=0;q<L.length;q++){var J=gi(y,L[q],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),sr(),eu(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const m=this.M;m&&wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=wn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ri?sr(3):sr(2)),ta(this);var y=this.g.Z();this.X=y;e:if(cr(this)){var T=lu(this.g);u="";var L=T.length,q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),hn(this);var J="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,nu(this.i,this.u,this.A,this.l,this.R,Ae,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Mt)){var kt=Mt;break e}}kt=null}if(y=kt)lr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,y);else{this.o=!1,this.s=3,le(12),an(this),hn(this);break t}}if(this.P){y=!0;let Le;for(;!this.J&&this.C<J.length;)if(Le=hr(this,J),Le==ls){Ae==4&&(this.s=4,le(14),y=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==ur){this.s=4,le(15),lr(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else lr(this.i,this.l,Le,null),fn(this,Le);if(cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||J.length!=0||this.h.h||(this.s=1,le(16),y=!1),this.o=this.o&&y,!y)lr(this.i,this.l,J,"[Invalid Chunked Response]"),an(this),hn(this);else if(0<J.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ys(Ne),Ne.M=!0,le(11))}}else lr(this.i,this.l,J,null),fn(this,J);Ae==4&&an(this),this.o&&!this.J&&(Ae==4?du(this.j,this):(this.o=!1,Jt(this)))}else Vh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),an(this),hn(this)}}}catch{}finally{}};function cr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hr(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?ls:(y=Number(m.substring(y,T)),isNaN(y)?ur:(T+=1,T+y>m.length?ls:(m=m.slice(T,T+y),u.C=T+y,m)))}Xn.prototype.cancel=function(){this.J=!0,an(this)};function Jt(u){u.S=Date.now()+u.I,go(u,u.I)}function go(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ar(R(u.ba,u),m)}function ta(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yn(this.i,this.A),this.L!=2&&(sr(),le(17)),an(this),this.s=2,hn(this)):go(this,this.S-u)};function hn(u){u.j.G==0||u.J||du(u.j,u)}function an(u){ta(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function fn(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||fr(y.h,u))){if(!u.K&&fr(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ca(y),la(y);else break t;Io(y),le(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=ar(R(y.Za,y),6e3));if(1>=iu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((u.K||y.g==u)&&ca(y),!ft(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let kt=L[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Ne=kt[3];Ne!=null&&(y.la=Ne,y.j.info("VER="+y.la));const Ae=kt[4];Ae!=null&&(y.Aa=Ae,y.j.info("SVER="+y.Aa));const Ri=kt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(T=1.5*Ri,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Le=u.g;if(Le){const ni=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var q=T.h;q.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(dr(q,q.h),q.h=null))}if(T.D){const Do=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(T.ya=Do,zt(T.I,T.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=pu(T,T.J?T.ia:null,T.W),J.K){Tn(T.h,J);var Mt=J,Te=T.L;Te&&(Mt.I=Te),Mt.B&&(ta(Mt),Jt(Mt)),T.g=J}else hu(T);0<y.i.length&&ua(y)}else kt[0]!="stop"&&kt[0]!="close"||wi(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?wi(y,7):wo(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}sr(4)}catch{}}var Ih=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function iu(u){return u.h?1:u.g?u.g.size:0}function fr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function dr(u,m){u.g?u.g.add(m):u.h=m}function Tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return $(u.i)}function ru(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ch(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function us(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ch(u),T=ru(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],y&&y[q],u)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),L=null;if(0<=T){var q=u[y].substring(0,T);L=u[y].substring(T+1)}else q=u[y];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,mr(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.s),this.l=u.l;var m=u.i,y=new $n;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),na(this,y),this.m=u.m}else u&&(m=String(u).match(vo))?(this.h=!1,mr(this,m[1]||"",!0),this.o=pr(m[2]||""),this.g=pr(m[3]||"",!0),cs(this,m[4]),this.l=pr(m[5]||"",!0),na(this,m[6]||"",!0),this.m=pr(m[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}Ei.prototype.toString=function(){var u=[],m=this.j;m&&u.push(An(m,Eo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(An(m,Eo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(An(y,y.charAt(0)=="/"?To:su,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",An(y,Nh)),u.join("")};function re(u){return new Ei(u)}function mr(u,m,y){u.j=y?pr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function na(u,m,y){m instanceof $n?(u.i=m,Ao(u.i,u.h)):(y||(m=An(m,Oh)),u.i=new $n(m,u.h))}function zt(u,m,y){u.i.set(m,y)}function hs(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function An(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Dh),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eo=/[#\/\?@]/g,su=/[#\?:]/g,To=/[#\?]/g,Oh=/[#\?@]/g,Nh=/#/g;function $n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=$n.prototype,r.add=function(u,m){Sn(this),this.i=null,u=Si(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ia(u,m){Sn(u),m=Si(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ti(u,m){return Sn(u),m=Si(u,m),u.g.has(m)}r.forEach=function(u,m){Sn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){Sn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)y.push(m[T])}return y},r.V=function(u){Sn(this);let m=[];if(typeof u=="string")Ti(this,u)&&(m=m.concat(this.g.get(Si(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Sn(this),this.i=null,u=Si(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ai(u,m,y){ia(u,m),0<y.length&&(u.i=null,u.g.set(Si(u,m),$(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var L=q;J[T]!==""&&(L+="="+encodeURIComponent(String(J[T]))),u.push(L)}}return this.i=u.join("&")};function Si(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ao(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(y,T){var L=T.toLowerCase();T!=L&&(ia(this,T),Ai(this,L,y))},u)),u.j=m}function au(u,m){const y=new or;if(p.Image){const T=new Image;T.onload=V(bn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=V(bn,y,"TestLoadImage: error",!1,m,T),T.onabort=V(bn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=V(bn,y,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function fs(u,m){const y=new or,T=new AbortController,L=setTimeout(()=>{T.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(y,"TestPingServer: error",!1,m)})}function bn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function ds(){this.g=new Je}function Wn(u,m,y){const T=y||"";try{us(u,function(L,q){let J=L;_(L)&&(J=ho(L)),m.push(T+q+"="+encodeURIComponent(J))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}j(gr,fo),gr.prototype.g=function(){return new bi(this.l,this.j)},gr.prototype.i=function(u){return function(){return u}}({});function bi(u,m){ve.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(bi,ve),r=bi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zn(this):Jn(this),this.readyState==3&&So(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},r.Qa=function(u){this.g&&(this.response=u,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bo(u){let m="";return Ct(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Oe(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=bo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):zt(u,m,y))}function Ht(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ht,ve);var ra=/^https?$/i,ms=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():os.g(),this.v=this.o?Zl(this.o):Zl(os),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ou(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ms,m,void 0))||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of y)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ou(this,q)}};function ou(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,sa(u),ti(u)}function sa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},r.bb=function(){aa(this)};function aa(u){if(u.h&&typeof f<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)Wl(u.Ea,0,u);else if(Ce(u,"readystatechange"),wn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=J===0){var L=String(u.D).match(vo)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!ra.test(L?L.toLowerCase():"")}y=T}if(y)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var q=2<wn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",sa(u)}}finally{ti(u)}}}}function ti(u,m){if(u.g){ps(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{y.onreadystatechange=T}catch{}}}function ps(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Kn(m)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vh(u){const m={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ft(u[T]))continue;var y=k(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[L]||[];m[L]=q,q.push(y)}P(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function oa(u){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,u),this.cb=gs("retryDelaySeedMs",1e4,u),this.Wa=gs("forwardChannelMaxRetries",2,u),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _o(u&&u.concurrentRequestLimit),this.Da=new ds,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){le(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=pu(this,null,this.W),ua(this)};function wo(u){if(uu(u),u.G==3){var m=u.U++,y=re(u.I);if(zt(y,"SID",u.K),zt(y,"RID",m),zt(y,"TYPE","terminate"),_s(u,y),m=new Xn(u,u.j,m),m.L=2,m.v=hs(re(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jt(m)}mu(u)}function la(u){u.g&&(ys(u),u.g.cancel(),u.g=null)}function uu(u){la(u),u.u&&(p.clearTimeout(u.u),u.u=null),ca(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ua(u){if(!yo(u.h)&&!u.s){u.s=!0;var m=u.Ga;mt||O(),ct||(mt(),ct=!0),qt.add(m,u),u.B=0}}function Mh(u,m){return iu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ar(R(u.Ga,u,m),Co(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Xn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=I(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),y=re(this.I),zt(y,"RID",u),zt(y,"CVER",22),this.D&&zt(y,"X-HTTP-Session-Id",this.D),_s(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(bo(q)))+"&"+m:this.m&&Oe(y,this.m,q)),dr(this.h,L),this.Ua&&zt(y,"TYPE","init"),this.P?(zt(y,"$req",m),zt(y,"SID","null"),L.T=!0,zn(L,y,null)):zn(L,y,m),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||yo(this.h)||Ro(this))};function Ro(u,m){var y;m?y=m.l:y=u.U++;const T=re(u.I);zt(T,"SID",u.K),zt(T,"RID",y),zt(T,"AID",u.T),_s(u,T),u.m&&u.o&&Oe(T,u.m,u.o),y=new Xn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=cu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),dr(u.h,y),zn(y,T,m)}function _s(u,m){u.H&&Ct(u.H,function(y,T){zt(m,T,y)}),u.l&&us({},function(y,T){zt(m,T,y)})}function cu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?R(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const J=["count="+y];q==-1?0<y?(q=L[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Mt=!0;for(let Te=0;Te<y;Te++){let kt=L[Te].g;const Ne=L[Te].map;if(kt-=q,0>kt)q=Math.max(0,L[Te].g-100),Mt=!1;else try{Wn(Ne,J,"req"+kt+"_")}catch{T&&T(Ne)}}if(Mt){T=J.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function hu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;mt||O(),ct||(mt(),ct=!0),qt.add(m,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ar(R(u.Fa,u),Co(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ar(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),la(this),fu(this))};function ys(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function fu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=re(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),_s(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=hs(re(m)),y.m=null,y.P=!0,vi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,la(this),Io(this),le(19))};function ca(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function du(u,m){var y=null;if(u.g==m){ca(u),ys(u),u.g=null;var T=2}else if(fr(u.h,m))y=m.D,Tn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Ws(),Ce(T,new tu(T,y)),ua(u)}else hu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Mh(u,m)||T==2&&Io(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Co(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var y=R(u.fb,u),T=u.Xa;const L=!T;T=new Ei(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||mr(T,"https"),hs(T),L?au(T.toString(),y):fs(T.toString(),y)}else le(2);u.G=0,u.l&&u.l.sa(m),mu(u),uu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function mu(u){if(u.G=0,u.ka=[],u.l){const m=tn(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ka,m),Q(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function pu(u,m,y){var T=y instanceof Ei?re(y):new Ei(y);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Ei(null);T&&mr(q,T),m&&(q.g=m),L&&cs(q,L),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&zt(T,y,m),zt(T,"VER",u.la),_s(u,T),T}function gu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new gr({eb:y})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ha(){}ha.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ve.call(this),this.g=new oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ei(this)}j(en,ve),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){wo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=ho(u),u=y);m.i.push(new Ih(m.Ya++,u)),m.G==3&&ua(m)},en.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,en.aa.N.call(this)};function yu(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}j(yu,ir);function vu(){xn.call(this),this.status=1}j(vu,xn);function ei(u){this.g=u}j(ei,_u),ei.prototype.ua=function(){Ce(this.g,"a")},ei.prototype.ta=function(u){Ce(this.g,new yu(u))},ei.prototype.sa=function(u){Ce(this.g,new vu)},ei.prototype.ra=function(){Ce(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,XE=function(){return new ha},YE=function(){return Ws()},QE=En,$d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Ic=Ee,yi.COMPLETE="complete",KE=yi,Jl.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,yl=Jl,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,GE=Ht}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",tv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new pm("@firebase/firestore");function xa(){return qs.logLevel}function it(r,...t){if(qs.logLevel<=Dt.DEBUG){const n=t.map(Im);qs.debug(`Firestore (${ro}): ${r}`,...n)}}function $i(r,...t){if(qs.logLevel<=Dt.ERROR){const n=t.map(Im);qs.error(`Firestore (${ro}): ${r}`,...n)}}function Ya(r,...t){if(qs.logLevel<=Dt.WARN){const n=t.map(Im);qs.warn(`Firestore (${ro}): ${r}`,...n)}}function Im(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r="Unexpected state"){const t=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+r;throw $i(t),new Error(t)}function Ft(r,t){r||gt()}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class ZR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ki,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ki)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new $E(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Ye(t)}}class tI{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eI{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new tI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ev(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string"),this.R=n.token,new ev(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Xa(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=-62135596800,iv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*iv);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<nv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new we(0,0))}static max(){return new yt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="__name__";class li{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(),s===void 0?s=t.length-n:s>t.length-n&&gt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=li.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=li.isNumericId(t),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(t).compare(li.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class Zt extends li{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends li{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return rI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new qe([rv])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Zt.fromString(t))}static fromName(t){return new ht(Zt.fromString(t).popFirst(5))}static empty(){return new ht(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function sI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new Xr(o,ht.empty(),t)}function aI(r){return new Xr(r.readTime,r.key,Ol)}class Xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(yt.min(),ht.empty(),Ol)}static max(){return new Xr(yt.max(),ht.empty(),Ol)}}function oI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==lI)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let o=0,c=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++c,f&&c===o&&n()},g=>s(g))}),f=!0,c===o&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(o=>o?K.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,o)=>{const c=t.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(t[_]).next(A=>{f[_]=A,++p,p===c&&s(f)},A=>o(A))}})}static doWhile(t,n){return new K((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function cI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=-1;function ah(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function hI(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function fI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=sv(t)),t=dI(r.get(n),t);return sv(t)}function dI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case ZE:n+="";break;default:n+=c}}return n}function sv(r){return r+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function is(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function JE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new je(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(t,n,s,o,c){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new yn([])}unionWith(t){let n=new Re(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tT("Invalid base64 string: "+c):c}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Ft(!!r),typeof r=="string"){let t=0;const n=mI.exec(r);if(Ft(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",nT="__type__",iT="__previous_value__",rT="__local_write_time__";function Dm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[nT])===null||n===void 0?void 0:n.stringValue)===eT}function oh(r){const t=r.mapValue.fields[iT];return Dm(t)?oh(t):t}function Nl(r){const t=$r(r.mapValue.fields[rT].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,s,o,c,f,p,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_}}const qc="(default)";class Vl{constructor(t,n){this.projectId=t,this.database=n||qc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__type__",gI="__max__",Ec={mapValue:{}},aT="__vector__",Hc="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:yI(r)?9007199254740991:_I(r)?10:11:gt()}function mi(r,t){if(r===t)return!0;const n=Zr(r);if(n!==Zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nl(r).isEqual(Nl(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=$r(o.timestampValue),p=$r(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Wr(o.bytesValue).isEqual(Wr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ce(o.doubleValue),p=ce(c.doubleValue);return f===p?jc(f)===jc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(av(f)!==av(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!mi(f[g],p[g])))return!1;return!0}(r,t);default:return gt()}}function Ml(r,t){return(r.values||[]).find(n=>mi(n,t))!==void 0}function $a(r,t){if(r===t)return 0;const n=Zr(r),s=Zr(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const p=ce(c.integerValue||c.doubleValue),g=ce(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return lv(r.timestampValue,t.timestampValue);case 4:return lv(Nl(r),Nl(t));case 5:return Vt(r.stringValue,t.stringValue);case 6:return function(c,f){const p=Wr(c),g=Wr(f);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const p=c.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=Vt(p[_],g[_]);if(A!==0)return A}return Vt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const p=Vt(ce(c.latitude),ce(f.latitude));return p!==0?p:Vt(ce(c.longitude),ce(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return uv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var p,g,_,A;const w=c.fields||{},R=f.fields||{},V=(p=w[Hc])===null||p===void 0?void 0:p.arrayValue,j=(g=R[Hc])===null||g===void 0?void 0:g.arrayValue,$=Vt(((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0,((A=j==null?void 0:j.values)===null||A===void 0?void 0:A.length)||0);return $!==0?$:uv(V,j)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===Ec.mapValue&&f===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(f===Ec.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=f.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let w=0;w<g.length&&w<A.length;++w){const R=Vt(g[w],A[w]);if(R!==0)return R;const V=$a(p[g[w]],_[A[w]]);if(V!==0)return V}return Vt(g.length,A.length)}(r.mapValue,t.mapValue);default:throw gt()}}function lv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=$r(r),s=$r(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function uv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=$a(n[o],s[o]);if(c)return c}return Vt(n.length,s.length)}function Wa(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Wr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Wd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Wd(n.fields[f])}`;return o+"}"}(r.mapValue):gt()}function Cc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(r);return t?16+Cc(t):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Cc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(c,f)=>{o+=c.length+Cc(f)}),o}(r.mapValue);default:throw gt()}}function cv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zd(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function hv(r){return!!r&&"nullValue"in r}function fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function _I(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[sT])===null||n===void 0?void 0:n.stringValue)===aT}function Sl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Sl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function yI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Dc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Sl(f):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){is(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new un(Sl(this.value))}}function oT(r){const t=[];return is(r.fields,(n,s)=>{const o=new qe([n]);if(Dc(s)){const c=oT(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,c,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),un.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,yt.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,yt.min(),yt.min(),un.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,yt.min(),yt.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n){this.position=t,this.inclusive=n}}function dv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(f.referenceValue),n.key):s=$a(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n="asc"){this.field=t,this.dir=n}}function vI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class _e extends lT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new TI(t,n,s):n==="array-contains"?new bI(t,s):n==="in"?new wI(t,s):n==="not-in"?new RI(t,s):n==="array-contains-any"?new II(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AI(t,s):new SI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($a(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends lT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Gn(t,n)}matches(t){return uT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uT(r){return r.op==="and"}function cT(r){return EI(r)&&uT(r)}function EI(r){for(const t of r.filters)if(t instanceof Gn)return!1;return!0}function Jd(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(cT(r))return r.filters.map(t=>Jd(t)).join(",");{const t=r.filters.map(n=>Jd(n)).join(",");return`${r.op}(${t})`}}function hT(r,t){return r instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&mi(s.value,o.value)}(r,t):r instanceof Gn?function(s,o){return o instanceof Gn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,p)=>c&&hT(f,o.filters[p]),!0):!1}(r,t):void gt()}function fT(r){return r instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(r):r instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(fT).join(" ,")+"}"}(r):"Filter"}class TI extends _e{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class AI extends _e{constructor(t,n){super(t,"in",n),this.keys=dT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SI extends _e{constructor(t,n){super(t,"not-in",n),this.keys=dT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function dT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class bI extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Om(n)&&Ml(n.arrayValue,this.value)}}class wI extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class RI extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ml(this.value.arrayValue,n)}}class II extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ml(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n=null,s=[],o=[],c=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.le=null}}function pv(r,t=null,n=[],s=[],o=null,c=null,f=null){return new CI(r,t,n,s,o,c,f)}function Nm(r){const t=Tt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Jd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ah(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Wa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Wa(s)).join(",")),t.le=n}return t.le}function Vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!mv(r.startAt,t.startAt)&&mv(r.endAt,t.endAt)}function tm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function DI(r,t,n,s,o,c,f,p){return new Fl(r,t,n,s,o,c,f,p)}function lh(r){return new Fl(r)}function gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mT(r){return r.collectionGroup!==null}function bl(r){const t=Tt(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Re(qe.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new Gc(c,s))}),n.has(qe.keyField().canonicalString())||t.he.push(new Gc(qe.keyField(),s))}return t.he}function hi(r){const t=Tt(r);return t.Pe||(t.Pe=OI(t,bl(r))),t.Pe}function OI(r,t){if(r.limitType==="F")return pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Gc(o.field,c)});const n=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return pv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function em(r,t){const n=r.filters.concat([t]);return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function nm(r,t,n){return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function uh(r,t){return Vm(hi(r),hi(t))&&r.limitType===t.limitType}function pT(r){return`${Nm(hi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>fT(o)).join(", ")}]`),ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Wa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Wa(o)).join(",")),`Target(${s})`}(hi(r))}; limitType=${r.limitType})`}function ch(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of bl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,g){const _=dv(f,p,g);return f.inclusive?_<=0:_<0}(s.startAt,bl(s),o)||s.endAt&&!function(f,p,g){const _=dv(f,p,g);return f.inclusive?_>=0:_>0}(s.endAt,bl(s),o))}(r,t)}function NI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gT(r){return(t,n)=>{let s=!1;for(const o of bl(r)){const c=VI(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function VI(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,f,p){const g=f.data.field(c),_=p.data.field(c);return g!==null&&_!==null?$a(g,_):gt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new ne(ht.comparator);function Wi(){return MI}const _T=new ne(ht.comparator);function vl(...r){let t=_T;for(const n of r)t=t.insert(n.key,n);return t}function yT(r){let t=_T;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function xs(){return wl()}function vT(){return wl()}function wl(){return new Gs(r=>r.toString(),(r,t)=>r.isEqual(t))}const kI=new ne(ht.comparator),PI=new Re(ht.comparator);function Ot(...r){let t=PI;for(const n of r)t=t.add(n);return t}const UI=new Re(Vt);function LI(){return UI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function ET(r){return{integerValue:""+r}}function xI(r,t){return hI(t)?ET(t):Mm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function zI(r,t,n){return r instanceof Kc?function(o,c){const f={fields:{[nT]:{stringValue:eT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Dm(c)&&(c=oh(c)),c&&(f.fields[iT]=c),{mapValue:f}}(n,t):r instanceof kl?AT(r,t):r instanceof Pl?ST(r,t):function(o,c){const f=TT(o,c),p=_v(f)+_v(o.Ie);return Zd(f)&&Zd(o.Ie)?ET(p):Mm(o.serializer,p)}(r,t)}function BI(r,t,n){return r instanceof kl?AT(r,t):r instanceof Pl?ST(r,t):n}function TT(r,t){return r instanceof Qc?function(s){return Zd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Kc extends hh{}class kl extends hh{constructor(t){super(),this.elements=t}}function AT(r,t){const n=bT(t);for(const s of r.elements)n.some(o=>mi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Pl extends hh{constructor(t){super(),this.elements=t}}function ST(r,t){let n=bT(t);for(const s of r.elements)n=n.filter(o=>!mi(o,s));return{arrayValue:{values:n}}}class Qc extends hh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function _v(r){return ce(r.integerValue||r.doubleValue)}function bT(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function jI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof kl&&o instanceof kl||s instanceof Pl&&o instanceof Pl?Xa(s.elements,o.elements,mi):s instanceof Qc&&o instanceof Qc?mi(s.Ie,o.Ie):s instanceof Kc&&o instanceof Kc}(r.transform,t.transform)}class qI{constructor(t,n){this.version=t,this.transformResults=n}}class Ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class fh{}function wT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new km(r.key,Ln.none()):new Gl(r.key,r.data,Ln.none());{const n=r.data,s=un.empty();let o=new Re(qe.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new rs(r.key,s,new yn(o.toArray()),Ln.none())}}function HI(r,t,n){r instanceof Gl?function(o,c,f){const p=o.value.clone(),g=vv(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof rs?function(o,c,f){if(!Oc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=vv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(RT(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Rl(r,t,n,s){return r instanceof Gl?function(c,f,p,g){if(!Oc(c.precondition,f))return p;const _=c.value.clone(),A=Ev(c.fieldTransforms,g,f);return _.setAll(A),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof rs?function(c,f,p,g){if(!Oc(c.precondition,f))return p;const _=Ev(c.fieldTransforms,g,f),A=f.data;return A.setAll(RT(c)),A.setAll(_),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,f,p){return Oc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function FI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=TT(s.transform,o||null);c!=null&&(n===null&&(n=un.empty()),n.set(s.field,c))}return n||null}function yv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(c,f)=>jI(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends fh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends fh{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function vv(r,t,n){const s=new Map;Ft(r.length===n.length);for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=t.data.field(c.field);s.set(c.field,BI(f,p,n[o]))}return s}function Ev(r,t,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,zI(c,f,t))}return s}class km extends fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI extends fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&HI(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Rl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Rl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=vT();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=wT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,(n,s)=>yv(n,s))&&Xa(this.baseMutations,t.baseMutations,(n,s)=>yv(n,s))}}class Pm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length);let o=function(){return kI}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Pm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ut;function XI(r){switch(r){case Y.OK:return gt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return gt()}}function IT(r){if(r===void 0)return $i("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ge.OK:return Y.OK;case ge.CANCELLED:return Y.CANCELLED;case ge.UNKNOWN:return Y.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Y.INTERNAL;case ge.UNAVAILABLE:return Y.UNAVAILABLE;case ge.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ge.NOT_FOUND:return Y.NOT_FOUND;case ge.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ge.ABORTED:return Y.ABORTED;case ge.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ge.DATA_LOSS:return Y.DATA_LOSS;default:return gt()}}(Ut=ge||(ge={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Kr([4294967295,4294967295],0);function Tv(r){const t=$I().encode(r),n=new FE;return n.update(t),new Uint8Array(n.digest())}function Av(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([n,s],0),new Kr([o,c],0)]}class Um{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Kr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Kr.fromNumber(s)));return o.compare(WI)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Tv(t),[s,o]=Av(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Um(c,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.Ee===0)return;const n=Tv(t),[s,o]=Av(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new dh(yt.min(),o,new ne(Vt),Wi(),Ot())}}class Kl{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Kl(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class CT{constructor(t,n){this.targetId=t,this.ge=n}}class DT{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Sv{constructor(){this.pe=0,this.ye=bv(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),n=Ot(),s=Ot();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt()}}),new Kl(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=bv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ZI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Wi(),this.$e=Tc(),this.Ke=Tc(),this.Ue=new ne(Vt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:gt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const c=o.target;if(tm(c))if(s===0){const f=new ht(c.path);this.ze(n,f,Xe.newNoDocument(f,yt.min()))}else Ft(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(t),g=p?this.nt(p,t,f):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=Wr(s).toUint8Array()}catch(g){if(g instanceof tT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Um(f,o,c)}catch(g){return Ya(g instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ee===0?null:p}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.ze(n,c,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((c,f)=>{const p=this.Xe(f);if(p){if(c.current&&tm(p.target)){const g=new ht(p.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Xe.newNoDocument(g,t))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Ot();this.Ke.forEach((c,f)=>{let p=!0;f.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const o=new dh(t,n,this.Ue,this.Qe,s);return this.Qe=Wi(),this.$e=Tc(),this.Ke=Tc(),this.Ue=new ne(Vt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Sv,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new Re(Vt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Re(Vt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Sv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Tc(){return new ne(ht.comparator)}function bv(){return new ne(ht.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},t1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class n1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function im(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function i1(r,t){return Yc(r,t.toTimestamp())}function fi(r){return Ft(!!r),yt.fromTimestamp(function(n){const s=$r(n);return new we(s.seconds,s.nanos)}(r))}function Lm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const n=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function NT(r){const t=Zt.fromString(r);return Ft(UT(t)),t}function sm(r,t){return Lm(r.databaseId,t.path)}function Ld(r,t){const n=NT(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(MT(n))}function VT(r,t){return Lm(r.databaseId,t)}function r1(r){const t=NT(r);return t.length===4?Zt.emptyPath():MT(t)}function am(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function MT(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function wv(r,t,n){return{name:sm(r,t),fields:n.value.mapValue.fields}}function s1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string"),He.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array),He.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(_){const A=_.code===void 0?Y.UNKNOWN:IT(_.code);return new rt(A,_.message||"")}(f);n=new DT(s,o,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ld(r,s.document.name),c=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):yt.min(),p=new un({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(o,c,f,p),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Nc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Ld(r,s.document),c=s.readTime?fi(s.readTime):yt.min(),f=Xe.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Nc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Ld(r,s.document),c=s.removedTargetIds||[];n=new Nc([],c,o,null)}else{if(!("filter"in t))return gt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new YI(o,c),p=s.targetId;n=new CT(p,f)}}return n}function a1(r,t){let n;if(t instanceof Gl)n={update:wv(r,t.key,t.value)};else if(t instanceof km)n={delete:sm(r,t.key)};else if(t instanceof rs)n={update:wv(r,t.key,t.data),updateMask:p1(t.fieldMask)};else{if(!(t instanceof GI))return gt();n={verify:sm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const p=f.transform;if(p instanceof Kc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qc)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw gt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:i1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt()}(r,t.precondition)),n}function o1(r,t){return r&&r.length>0?(Ft(t!==void 0),r.map(n=>function(o,c){let f=o.updateTime?fi(o.updateTime):fi(c);return f.isEqual(yt.min())&&(f=fi(c)),new qI(f,o.transformResults||[])}(n,t))):[]}function l1(r,t){return{documents:[VT(r,t.path)]}}function u1(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VT(r,o);const c=function(_){if(_.length!==0)return PT(Gn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(A=>function(R){return{field:Ba(R.field),direction:f1(R.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=im(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ht:n,parent:o}}function c1(r){let t=r1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1);const A=n.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(w){const R=kT(w);return R instanceof Gn&&cT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(R=>function(j){return new Gc(ja(j.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(n.orderBy));let p=null;n.limit&&(p=function(w){let R;return R=typeof w=="object"?w.value:w,ah(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(w){const R=!!w.before,V=w.values||[];return new Fc(V,R)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const R=!w.before,V=w.values||[];return new Fc(V,R)}(n.endAt)),DI(t,o,f,c,p,"F",g,_)}function h1(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ja(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ja(n.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(n.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ja(n.unaryFilter.field);return _e.create(f,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(r):r.fieldFilter!==void 0?function(n){return _e.create(ja(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(s=>kT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}}(n.compositeFilter.op))}(r):gt()}function f1(r){return JI[r]}function d1(r){return t1[r]}function m1(r){return e1[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function ja(r){return qe.fromServerFormat(r.fieldPath)}function PT(r){return r instanceof _e?function(n){if(n.op==="=="){if(fv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(hv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(hv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:d1(n.op),value:n.value}}}(r):r instanceof Gn?function(n){const s=n.getFilters().map(o=>PT(o));return s.length===1?s[0]:{compositeFilter:{op:m1(n.op),filters:s}}}(r):gt()}function p1(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function UT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,s,o,c=yt.min(),f=yt.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.Tt=t}}function _1(r){const t=c1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Tn=new v1}addToCollectionParentIndex(t,n){return this.Tn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Xr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class v1{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re(Zt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(LT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Za(0)}static Un(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LruGarbageCollector",E1=1048576;function Cv([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class T1{constructor(t){this.Hn=t,this.buffer=new Re(Cv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Cv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A1{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(Iv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?it(Iv,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.er(3e5)})}}class S1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(sh.ae);const s=new T1(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Rv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,c,f,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,p=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(_=Date.now(),xa()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function b1(r,t){return new S1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.changes=new Gs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Rl(s.mutation,o,yn.empty(),we.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ot()){const o=xs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let f=vl();return c.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ot()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let c=Wi();const f=wl(),p=function(){return wl()}();return n.forEach((g,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof rs)?c=c.insert(_.key,_):A!==void 0?(f.set(_.key,A.mutation.getFieldMask()),Rl(A.mutation,_,A.mutation.getFieldMask(),we.now())):f.set(_.key,yn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((_,A)=>f.set(_,A)),n.forEach((_,A)=>{var w;return p.set(_,new R1(A,(w=f.get(_))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(t,n){const s=wl();let o=new ne((f,p)=>f-p),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let A=s.get(g)||yn.empty();A=p.applyToLocalView(_,A),s.set(g,A);const w=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,w)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,w=vT();A.forEach(R=>{if(!c.has(R)){const V=wT(n.get(R),s.get(R));V!==null&&w.set(R,V),c=c.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,w))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return ht.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):K.resolve(xs());let p=Ol,g=c;return f.next(_=>K.forEach(_,(A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(R=>{g=g.insert(A,R)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,g,_,Ot())).next(A=>({batchId:p,changes:yT(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let o=vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=vl();return this.indexManager.getCollectionParents(t,c).next(p=>K.forEach(p,g=>{const _=function(w,R){return new Fl(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(A=>{A.forEach((w,R)=>{f=f.insert(w,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(f=>{c.forEach((g,_)=>{const A=_.getKey();f.get(A)===null&&(f=f.insert(A,Xe.newInvalidDocument(A)))});let p=vl();return f.forEach((g,_)=>{const A=c.get(g);A!==void 0&&Rl(A.mutation,_,yn.empty(),we.now()),ch(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:_1(o.bundledQuery),readTime:fi(o.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.overlays=new ne(ht.comparator),this.Rr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xs();return K.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.Et(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const o=xs(),c=n.length+1,f=new ht(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return K.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new ne((_,A)=>_-A);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=xs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=xs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=o)););return K.resolve(p)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QI(n,s));let c=this.Rr.get(n);c===void 0&&(c=Ot(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.Vr=new Re(Pe.mr),this.gr=new Re(Pe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Pe(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new ht(new Zt([])),s=new Pe(n,t),o=new Pe(n,t+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ht(new Zt([])),s=new Pe(n,t),o=new Pe(n,t+1);let c=Ot();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Pe(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ht.comparator(t.key,n.key)||Vt(t.Cr,n.Cr)}static pr(t,n){return Vt(t.Cr,n.Cr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Pe.mr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KI(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),c=o<0?0:o;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Cm:this.Fr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);c.push(p)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Vt);return n.forEach(o=>{const c=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],p=>{s=s.add(p.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const f=new Pe(new ht(c),0);let p=new Re(Vt);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Cr)),!0)},f),K.resolve(this.Br(p))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(n.mutations,o=>{const c=new Pe(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.kr=t,this.docs=function(){return new ne(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Wi();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xe.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=Wi();const f=n.path,p=new ht(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||oI(aI(A),s)<=0||(o.has(A.key)||ch(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,o){gt()}qr(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new M1(this)}getSize(t){return K.resolve(this.size)}}class M1 extends w1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this.persistence=t,this.Qr=new Gs(n=>Nm(n),Vm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new xm,this.targetCount=0,this.Ur=Za.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),K.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Za(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.zn(n),K.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),K.waitFor(c).next(()=>o)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.Kr.Sr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Kr.br(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new sh(0),this.zr=!1,this.zr=!0,this.jr=new O1,this.referenceDelegate=t(this),this.Hr=new k1(this),this.indexManager=new y1,this.remoteDocumentCache=function(o){return new V1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new g1(n),this.Yr=new C1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new D1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new N1(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const o=new P1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,n){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class P1 extends uI{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.ti=new xm,this.ni=null}static ri(t){return new zm(t)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=ht.fromPath(s);return this.si(t,o).next(c=>{c||n.removeEntry(o,yt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Xc{constructor(t,n){this.persistence=t,this.oi=new Gs(s=>fI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=b1(this,n)}static ri(t,n){return new Xc(t,n)}Zr(){}Xr(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return K.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?K.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(p=>{p||(s++,c.removeEntry(f,yt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Cc(t.data.value)),n}ar(t,n,s){return K.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Ot(),o=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Bm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yS()?8:cI(We())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new U1;return this._s(t,n,f).next(p=>{if(c.result=p,this.Xi)return this.us(t,n,f,p.size)})}).next(()=>c.result)}us(t,n,s,o){return s.documentReadCount<this.es?(xa()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(xa()<=Dt.DEBUG&&it("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(xa()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hi(n))):K.resolve())}rs(t,n){if(gv(n))return K.resolve(null);let s=hi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=nm(n,null,"F"),s=hi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Ot(...c);return this.ns.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const _=this.cs(n,p);return this.ls(n,_,f,g.readTime)?this.rs(t,nm(n,null,"F")):this.hs(t,_,n,g)}))})))}ss(t,n,s,o){return gv(n)||o.isEqual(yt.min())?K.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,o)?K.resolve(null):(xa()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(n)),this.hs(t,f,n,sI(o,Ol)).next(p=>p))})}cs(t,n){let s=new Re(gT(t));return n.forEach((o,c)=>{ch(t,c)&&(s=s.add(c))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,n,s){return xa()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",za(n)),this.ns.getDocumentsMatchingQuery(t,n,Xr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="LocalStore",x1=3e8;class z1{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ne(Vt),this.Is=new Gs(c=>Nm(c),Vm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function B1(r,t,n,s){return new z1(r,t,n,s)}async function zT(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],p=[];let g=Ot();for(const _ of o){f.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:p}))})})}function j1(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,g,_,A){const w=_.batch,R=w.keys();let V=K.resolve();return R.forEach(j=>{V=V.next(()=>A.getEntry(g,j)).next($=>{const Q=_.docVersions.get(j);Ft(Q!==null),$.version.compareTo(Q)<0&&(w.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),A.addEntry($)))})}),V.next(()=>p.mutationQueue.removeMutationBatch(g,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function BT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function q1(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];t.targetChanges.forEach((A,w)=>{const R=o.get(w);if(!R)return;p.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,w)));let V=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?V=V.withResumeToken(He.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(A.resumeToken,s)),o=o.insert(w,V),function($,Q,ut){return $.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=x1?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0}(R,V,A)&&p.push(n.Hr.updateTargetData(c,V))});let g=Wi(),_=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),p.push(H1(c,f,t.documentUpdates).next(A=>{g=A.Vs,_=A.fs})),!s.isEqual(yt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(w=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(A)}return K.waitFor(p).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.Ts=o,c))}function H1(r,t,n){let s=Ot(),o=Ot();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Wi();return n.forEach((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(yt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):it(jm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function F1(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Cm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function G1(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(c=>c?(o=c,K.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new qr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function om(r,t,n){const s=Tt(r),o=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ao(f))throw f;it(jm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function Dv(r,t,n){const s=Tt(r);let o=yt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,A){const w=Tt(g),R=w.Is.get(A);return R!==void 0?K.resolve(w.Ts.get(R)):w.Hr.getTargetData(_,A)}(s,f,hi(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(g=>{c=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:yt.min(),n?c:Ot())).next(p=>(K1(s,NI(t),p),{documents:p,gs:c})))}function K1(r,t,n){let s=r.Es.get(t)||yt.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class Ov{constructor(){this.activeTargetIds=LI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Q1{constructor(){this.ho=new Ov,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Ov,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="ConnectivityMonitor";class Vv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Nv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it(Nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function lm(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",X1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===qc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,c){const f=lm(),p=this.bo(t,n.toUriEncodedString());it(xd,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(t,p,g,s).then(_=>(it(xd,`Received RPC '${t}' ${f}: `,_),_),_=>{throw Ya(xd,`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",s),_})}Co(t,n,s,o,c,f){return this.So(t,n,s,o,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}bo(t,n){const s=X1[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class Z1 extends $1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const c=lm();return new Promise((f,p)=>{const g=new GE;g.setWithCredentials(!0),g.listenOnce(KE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ic.NO_ERROR:const A=g.getResponseJson();it(Qe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),f(A);break;case Ic.TIMEOUT:it(Qe,`RPC '${t}' ${c} timed out`),p(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const w=g.getStatus();if(it(Qe,`RPC '${t}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R==null?void 0:R.error;if(V&&V.status&&V.message){const j=function(Q){const ut=Q.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ut)>=0?ut:Y.UNKNOWN}(V.status);p(new rt(j,V.message))}else p(new rt(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(Qe,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(o);it(Qe,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)})}Wo(t,n,s){const o=lm(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=XE(),p=YE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const A=c.join("");it(Qe,`Creating RPC '${t}' stream ${o}: ${A}`,g);const w=f.createWebChannel(A,g);let R=!1,V=!1;const j=new W1({Fo:Q=>{V?it(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(R||(it(Qe,`Opening RPC '${t}' stream ${o} transport.`),w.open(),R=!0),it(Qe,`RPC '${t}' stream ${o} sending:`,Q),w.send(Q))},Mo:()=>w.close()}),$=(Q,ut,ft)=>{Q.listen(ut,_t=>{try{ft(_t)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return $(w,yl.EventType.OPEN,()=>{V||(it(Qe,`RPC '${t}' stream ${o} transport opened.`),j.Qo())}),$(w,yl.EventType.CLOSE,()=>{V||(V=!0,it(Qe,`RPC '${t}' stream ${o} transport closed`),j.Ko())}),$(w,yl.EventType.ERROR,Q=>{V||(V=!0,Ya(Qe,`RPC '${t}' stream ${o} transport errored:`,Q),j.Ko(new rt(Y.UNAVAILABLE,"The operation could not be completed")))}),$(w,yl.EventType.MESSAGE,Q=>{var ut;if(!V){const ft=Q.data[0];Ft(!!ft);const _t=ft,Lt=(_t==null?void 0:_t.error)||((ut=_t[0])===null||ut===void 0?void 0:ut.error);if(Lt){it(Qe,`RPC '${t}' stream ${o} received error:`,Lt);const vt=Lt.status;let Ct=function(S){const D=ge[S];if(D!==void 0)return IT(D)}(vt),P=Lt.message;Ct===void 0&&(Ct=Y.INTERNAL,P="Unknown error status: "+vt+" with message "+Lt.message),V=!0,j.Ko(new rt(Ct,P)),w.close()}else it(Qe,`RPC '${t}' stream ${o} received:`,ft),j.Uo(ft)}}),$(p,QE.STAT_EVENT,Q=>{Q.stat===$d.PROXY?it(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===$d.NOPROXY&&it(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r){return new n1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="PersistentStream";class qT{constructor(t,n,s,o,c,f,p,g){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new rt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(Mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(it(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J1 extends qT{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=s1(this.serializer,t),s=function(c){if(!("targetChange"in c))return yt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?yt.min():f.readTime?fi(f.readTime):yt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=am(this.serializer),n.addTarget=function(c,f){let p;const g=f.target;if(p=tm(g)?{documents:l1(c,g)}:{query:u1(c,g).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=OT(c,f.resumeToken);const _=im(c,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(yt.min())>0){p.readTime=Yc(c,f.snapshotVersion.toTimestamp());const _=im(c,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,t);const s=h1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=am(this.serializer),n.removeTarget=t,this.I_(n)}}class tC extends qT{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=o1(t.writeResults,t.commitTime),s=fi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=am(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>a1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nC extends eC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,rm(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Y.UNKNOWN,c.toString())})}Co(t,n,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(t,rm(n,s),o,f,p,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(Y.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(n),this.N_=!1):it("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class rC{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(it(Hs,"Restarting streams for network reachability change."),await async function(g){const _=Tt(g);_.W_.add(4),await Ql(_),_.j_.set("Unknown"),_.W_.delete(4),await ph(_)}(this))})}),this.j_=new iC(s,o)}}async function ph(r){if(Ks(r))for(const t of r.G_)await t(!0)}async function Ql(r){for(const t of r.G_)await t(!1)}function HT(r,t){const n=Tt(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Gm(n)?Fm(n):oo(n).c_()&&Hm(n,t))}function qm(r,t){const n=Tt(r),s=oo(n);n.U_.delete(t),s.c_()&&FT(n,t),n.U_.size===0&&(s.c_()?s.P_():Ks(n)&&n.j_.set("Unknown"))}function Hm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oo(r).y_(t)}function FT(r,t){r.H_.Ne(t),oo(r).w_(t)}function Fm(r){r.H_=new ZI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.j_.B_()}function Gm(r){return Ks(r)&&!oo(r).u_()&&r.U_.size>0}function Ks(r){return Tt(r).W_.size===0}function GT(r){r.H_=void 0}async function sC(r){r.j_.set("Online")}async function aC(r){r.U_.forEach((t,n)=>{Hm(r,t)})}async function oC(r,t){GT(r),Gm(r)?(r.j_.q_(t),Fm(r)):r.j_.set("Unknown")}async function lC(r,t,n){if(r.j_.set("Online"),t instanceof DT&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const p of c.targetIds)o.U_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.U_.delete(p),o.H_.removeTarget(p))}(r,t)}catch(s){it(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await $c(r,s)}else if(t instanceof Nc?r.H_.We(t):t instanceof CT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(yt.min()))try{const s=await BT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const p=c.H_.ot(f);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.U_.get(_);A&&c.U_.set(_,A.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,_)=>{const A=c.U_.get(g);if(!A)return;c.U_.set(g,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),FT(c,g);const w=new qr(A.target,g,_,A.sequenceNumber);Hm(c,w)}),c.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){it(Hs,"Failed to raise snapshot:",s),await $c(r,s)}}async function $c(r,t,n){if(!ao(t))throw t;r.W_.add(1),await Ql(r),r.j_.set("Offline"),n||(n=()=>BT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Hs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await ph(r)})}function KT(r,t){return t().catch(n=>$c(r,n,t))}async function gh(r){const t=Tt(r),n=Jr(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:Cm;for(;uC(t);)try{const o=await F1(t.localStore,s);if(o===null){t.K_.length===0&&n.P_();break}s=o.batchId,cC(t,o)}catch(o){await $c(t,o)}QT(t)&&YT(t)}function uC(r){return Ks(r)&&r.K_.length<10}function cC(r,t){r.K_.push(t);const n=Jr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function QT(r){return Ks(r)&&!Jr(r).u_()&&r.K_.length>0}function YT(r){Jr(r).start()}async function hC(r){Jr(r).C_()}async function fC(r){const t=Jr(r);for(const n of r.K_)t.b_(n.mutations)}async function dC(r,t,n){const s=r.K_.shift(),o=Pm.from(s,t,n);await KT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await gh(r)}async function mC(r,t){t&&Jr(r).S_&&await async function(s,o){if(function(f){return XI(f)&&f!==Y.ABORTED}(o.code)){const c=s.K_.shift();Jr(s).h_(),await KT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await gh(s)}}(r,t),QT(r)&&YT(r)}async function kv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),it(Hs,"RemoteStore received new credentials");const s=Ks(n);n.W_.add(3),await Ql(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await ph(n)}async function pC(r,t){const n=Tt(r);t?(n.W_.delete(2),await ph(n)):t||(n.W_.add(2),await Ql(n),n.j_.set("Unknown"))}function oo(r){return r.J_||(r.J_=function(n,s,o){const c=Tt(n);return c.M_(),new J1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:sC.bind(null,r),No:aC.bind(null,r),Lo:oC.bind(null,r),p_:lC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Gm(r)?Fm(r):r.j_.set("Unknown")):(await r.J_.stop(),GT(r))})),r.J_}function Jr(r){return r.Y_||(r.Y_=function(n,s,o){const c=Tt(n);return c.M_(),new tC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:hC.bind(null,r),Lo:mC.bind(null,r),D_:fC.bind(null,r),v_:dC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await gh(r)):(await r.Y_.stop(),r.K_.length>0&&(it(Hs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,p=new Km(t,n,f,o,c);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if($i("AsyncQueue",`${t}: ${r}`),ao(r))return new rt(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=vl(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Z_=new ne(ht.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):gt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ja{constructor(t,n,s,o,c,f,p,g,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Ja(t,n,Ka.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class _C{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Tt(n),c=o.queries;o.queries=Uv(),c.forEach((f,p)=>{for(const g of p.ta)g.onError(s)})})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function Uv(){return new Gs(r=>pT(r),uh)}async function Ym(r,t){const n=Tt(r);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.na()&&t.ra()&&(s=2):(c=new gC,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(o,!0);break;case 1:c.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Qm(f,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&$m(n)}async function Xm(r,t){const n=Tt(r),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yC(r,t){const n=Tt(r);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&$m(n)}function vC(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const c of o.ta)c.onError(n);s.queries.delete(t)}function $m(r){r.ia.forEach(t=>{t.next()})}var um,Lv;(Lv=um||(um={}))._a="default",Lv.Cache="cache";class Wm{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ja(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t){this.key=t}}class $T{constructor(t){this.key=t}}class EC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=gT(t),this.wa=new Ka(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new Pv,o=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,w)=>{const R=o.get(A),V=ch(this.query,w)?w:null,j=!!R&&this.mutatedKeys.has(R.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Q=!1;R&&V?R.data.isEqual(V.data)?j!==$&&(s.track({type:3,doc:V}),Q=!0):this.va(R,V)||(s.track({type:2,doc:V}),Q=!0,(g&&this.ya(V,g)>0||_&&this.ya(V,_)<0)&&(p=!0)):!R&&V?(s.track({type:0,doc:V}),Q=!0):R&&!V&&(s.track({type:1,doc:R}),Q=!0,(g||_)&&(p=!0)),Q&&(V?(f=f.add(V),c=$?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:f,Da:s,ls:p,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,w)=>function(V,j){const $=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return $(V)-$(j)}(A.type,w.type)||this.ya(A.doc,w.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,f.length!==0||_?{snapshot:new Ja(this.query,t.wa,c,f,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Pv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new $T(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new XT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ot();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ja.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zm="SyncEngine";class TC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class AC{constructor(t){this.key=t,this.Ba=!1}}class SC{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Gs(p=>pT(p),uh),this.qa=new Map,this.Qa=new Set,this.$a=new ne(ht.comparator),this.Ka=new Map,this.Ua=new xm,this.Wa={},this.Ga=new Map,this.za=Za.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bC(r,t,n=!0){const s=n0(r);let o;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await WT(s,t,n,!0),o}async function wC(r,t){const n=n0(r);await WT(n,t,!0,!1)}async function WT(r,t,n,s){const o=await G1(r.localStore,hi(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await RC(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&HT(r.remoteStore,o),p}async function RC(r,t,n,s,o){r.Ha=(w,R,V)=>async function($,Q,ut,ft){let _t=Q.view.ba(ut);_t.ls&&(_t=await Dv($.localStore,Q.query,!1).then(({documents:P})=>Q.view.ba(P,_t)));const Lt=ft&&ft.targetChanges.get(Q.targetId),vt=ft&&ft.targetMismatches.get(Q.targetId)!=null,Ct=Q.view.applyChanges(_t,$.isPrimaryClient,Lt,vt);return zv($,Q.targetId,Ct.Ma),Ct.snapshot}(r,w,R,V);const c=await Dv(r.localStore,t,!0),f=new EC(t,c.gs),p=f.ba(c.documents),g=Kl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(p,r.isPrimaryClient,g);zv(r,n,_.Ma);const A=new TC(t,n,f);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),_.snapshot}async function IC(r,t,n){const s=Tt(r),o=s.ka.get(t),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!uh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await om(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qm(s.remoteStore,o.targetId),cm(s,o.targetId)}).catch(so)):(cm(s,o.targetId),await om(s.localStore,o.targetId,!0))}async function CC(r,t){const n=Tt(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qm(n.remoteStore,s.targetId))}async function DC(r,t,n){const s=UC(r);try{const o=await function(f,p){const g=Tt(f),_=we.now(),A=p.reduce((V,j)=>V.add(j.key),Ot());let w,R;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let j=Wi(),$=Ot();return g.ds.getEntries(V,A).next(Q=>{j=Q,j.forEach((ut,ft)=>{ft.isValidDocument()||($=$.add(ut))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,j)).next(Q=>{w=Q;const ut=[];for(const ft of p){const _t=FI(ft,w.get(ft.key).overlayedDocument);_t!=null&&ut.push(new rs(ft.key,_t,oT(_t.value.mapValue),Ln.exists(!0)))}return g.mutationQueue.addMutationBatch(V,_,ut,p)}).next(Q=>{R=Q;const ut=Q.applyToLocalDocumentSet(w,$);return g.documentOverlayCache.saveOverlays(V,Q.batchId,ut)})}).then(()=>({batchId:R.batchId,changes:yT(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let _=f.Wa[f.currentUser.toKey()];_||(_=new ne(Vt)),_=_.insert(p,g),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await Yl(s,o.changes),await gh(s.remoteStore)}catch(o){const c=Qm(o,"Failed to persist write");n.reject(c)}}async function ZT(r,t){const n=Tt(r);try{const s=await q1(n.localStore,t);t.targetChanges.forEach((o,c)=>{const f=n.Ka.get(c);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ft(f.Ba):o.removedDocuments.size>0&&(Ft(f.Ba),f.Ba=!1))}),await Yl(n,s,t)}catch(s){await so(s)}}function xv(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((c,f)=>{const p=f.view.sa(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Tt(f);g.onlineState=p;let _=!1;g.queries.forEach((A,w)=>{for(const R of w.ta)R.sa(p)&&(_=!0)}),_&&$m(g)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function OC(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),c=o&&o.key;if(c){let f=new ne(ht.comparator);f=f.insert(c,Xe.newNoDocument(c,yt.min()));const p=Ot().add(c),g=new dh(yt.min(),new Map,new ne(Vt),f,p);await ZT(s,g),s.$a=s.$a.remove(c),s.Ka.delete(t),Jm(s)}else await om(s.localStore,t,!1).then(()=>cm(s,t,n)).catch(so)}async function NC(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await j1(n.localStore,t);t0(n,s,null),JT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(n,o)}catch(o){await so(o)}}async function VC(r,t,n){const s=Tt(r);try{const o=await function(f,p){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next(w=>(Ft(w!==null),A=w.keys(),g.mutationQueue.removeMutationBatch(_,w))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>g.localDocuments.getDocuments(_,A))})}(s.localStore,t);t0(s,t,n),JT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Yl(s,o)}catch(o){await so(o)}}function JT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function t0(r,t,n){const s=Tt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function cm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.br(t).forEach(s=>{r.Ua.containsKey(s)||e0(r,s)})}function e0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(qm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Jm(r))}function zv(r,t,n){for(const s of n)s instanceof XT?(r.Ua.addReference(s.key,t),MC(r,s)):s instanceof $T?(it(Zm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||e0(r,s.key)):gt()}function MC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(it(Zm,"New document in limbo: "+n),r.Qa.add(s),Jm(r))}function Jm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ht(Zt.fromString(t)),s=r.za.next();r.Ka.set(s,new AC(n)),r.$a=r.$a.insert(n,s),HT(r.remoteStore,new qr(hi(lh(n.path)),s,"TargetPurposeLimboResolution",sh.ae))}}async function Yl(r,t,n){const s=Tt(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,g)=>{f.push(s.Ha(g,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(_){o.push(_);const w=Bm.Yi(g.targetId,_);c.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,_){const A=Tt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(_,R=>K.forEach(R.Hi,V=>A.persistence.referenceDelegate.addReference(w,R.targetId,V)).next(()=>K.forEach(R.Ji,V=>A.persistence.referenceDelegate.removeReference(w,R.targetId,V)))))}catch(w){if(!ao(w))throw w;it(jm,"Failed to update sequence numbers: "+w)}for(const w of _){const R=w.targetId;if(!w.fromCache){const V=A.Ts.get(R),j=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(j);A.Ts=A.Ts.insert(R,$)}}}(s.localStore,c))}async function kC(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){it(Zm,"User change. New user:",t.toKey());const s=await zT(n.localStore,t);n.currentUser=t,function(c,f){c.Ga.forEach(p=>{p.forEach(g=>{g.reject(new rt(Y.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yl(n,s.Rs)}}function PC(r,t){const n=Tt(r),s=n.Ka.get(t);if(s&&s.Ba)return Ot().add(s.key);{let o=Ot();const c=n.qa.get(t);if(!c)return o;for(const f of c){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function n0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OC.bind(null,t),t.La.p_=yC.bind(null,t.eventManager),t.La.Ja=vC.bind(null,t.eventManager),t}function UC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VC.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return B1(this.persistence,new L1,t.initialUser,this.serializer)}Xa(t){return new xT(zm.ri,this.serializer)}Za(t){return new Q1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class LC extends Wc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Ft(this.persistence.referenceDelegate instanceof Xc);const s=this.persistence.referenceDelegate.garbageCollector;return new A1(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new xT(s=>Xc.ri(s,n),this.serializer)}}class hm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await pC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _C}()}createDatastore(t){const n=mh(t.databaseInfo.databaseId),s=function(c){return new Z1(c)}(t.databaseInfo);return function(c,f,p,g){return new nC(c,f,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,f,p){return new rC(s,o,c,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>xv(this.syncEngine,n,0),function(){return Vv.D()?new Vv:new Y1}())}createSyncEngine(t,n){return function(o,c,f,p,g,_,A){const w=new SC(o,c,f,p,g,_);return A&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const c=Tt(o);it(Hs,"RemoteStore shutting down."),c.W_.add(5),await Ql(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class xC{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=WE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Qm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),it(ts,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await zT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Bv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await zC(r);it(ts,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>kv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>kv(t.remoteStore,o)),r._onlineComponents=t}async function zC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(ts,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Bd(r,new Wc)}}else it(ts,"Using default OfflineComponentProvider"),await Bd(r,new LC(void 0));return r._offlineComponents}async function i0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(ts,"Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(it(ts,"Using default OnlineComponentProvider"),await Bv(r,new hm))),r._onlineComponents}function BC(r){return i0(r).then(t=>t.syncEngine)}async function Zc(r){const t=await i0(r),n=t.eventManager;return n.onListen=bC.bind(null,t.syncEngine),n.onUnlisten=IC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CC.bind(null,t.syncEngine),n}function jC(r,t,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,_){const A=new tp({next:R=>{A.su(),f.enqueueAndForget(()=>Xm(c,w));const V=R.docs.has(p);!V&&R.fromCache?_.reject(new rt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&g&&g.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),w=new Wm(lh(p.path),A,{includeMetadataChanges:!0,Ta:!0});return Ym(c,w)}(await Zc(r),r.asyncQueue,t,n,s)),s.promise}function qC(r,t,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,_){const A=new tp({next:R=>{A.su(),f.enqueueAndForget(()=>Xm(c,w)),R.fromCache&&g.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),w=new Wm(p,A,{includeMetadataChanges:!0,Ta:!0});return Ym(c,w)}(await Zc(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,t,n){if(!n)throw new rt(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HC(r,t,n,s){if(t===!0&&s===!0)throw new rt(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function qv(r){if(!ht.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hv(r){if(ht.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt()}function cn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(r);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="firestore.googleapis.com",Fv=!0;class Gv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a0,this.ssl=Fv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Fv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=LT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E1)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new WR;switch(s.type){case"firstParty":return new eI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=jv.get(n);s&&(it("ComponentProvider","Removing Datastore"),jv.delete(n),s.terminate())}(this),Promise.resolve()}}function FC(r,t,n,s={}){var o;const c=(r=cn(r,yh))._getSettings(),f=`${t}:${n}`;if(c.host!==a0&&c.host!==f&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let p,g;if(typeof s.mockUserToken=="string")p=s.mockUserToken,g=Ye.MOCK_USER;else{p=hS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ye(_)}r._authCredentials=new ZR(new $E(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Qs(this.firestore,t,this._query)}}class $e{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}}class Qr extends Qs{constructor(t,n,s){super(t,n,lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new ht(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function di(r,t,...n){if(r=Ie(r),s0("collection","path",t),r instanceof yh){const s=Zt.fromString(t,...n);return Hv(s),new Qr(r,null,s)}{if(!(r instanceof $e||r instanceof Qr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return Hv(s),new Qr(r.firestore,null,s)}}function Qi(r,t,...n){if(r=Ie(r),arguments.length===1&&(t=WE.newId()),s0("doc","path",t),r instanceof yh){const s=Zt.fromString(t,...n);return qv(s),new $e(r,null,new ht(s))}{if(!(r instanceof $e||r instanceof Qr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return qv(s),new $e(r.firestore,r instanceof Qr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class Qv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jT(this,"async_queue_retry"),this.Su=()=>{const s=zd();s&&it(Kv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ki;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ao(t))throw t;it(Kv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw $i("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Km.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Yv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Zi extends yh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Qv(t),this._firestoreClient=void 0,await t}}}function GC(r,t){const n=typeof r=="object"?r:aE(),s=typeof r=="string"?r:qc,o=_m(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=uS("firestore");c&&FC(o,...c)}return o}function vh(r){if(r._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KC(r),r._firestoreClient}function KC(r){var t,n,s;const o=r._freezeSettings(),c=function(p,g,_,A){return new pI(p,g,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,r0(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new xC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this._byteString=t}static fromBase64String(t){try{return new to(He.fromBase64String(t))}catch(n){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new to(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^__.*__$/;class YC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}class o0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function l0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class rp{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new rp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Jc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(l0(this.Lu)&&QC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class XC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||mh(t)}ju(t,n,s,o=!1){return new rp({Lu:t,methodName:n,zu:s,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Th(r){const t=r._freezeSettings(),n=mh(r._databaseId);return new XC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function u0(r,t,n,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,n,o);sp("Data must be an object, but it was:",f,s);const p=c0(s,f);let g,_;if(c.merge)g=new yn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const R=fm(t,w,n);if(!f.contains(R))throw new rt(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);f0(A,R)||A.push(R)}g=new yn(A),_=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,_=f.fieldTransforms;return new YC(new un(p),g,_)}class Ah extends ep{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function $C(r,t,n,s){const o=r.ju(1,t,n);sp("Data must be an object, but it was:",o,s);const c=[],f=un.empty();is(s,(g,_)=>{const A=ap(t,g,n);_=Ie(_);const w=o.Ku(A);if(_ instanceof Ah)c.push(A);else{const R=Xl(_,w);R!=null&&(c.push(A),f.set(A,R))}});const p=new yn(c);return new o0(f,p,o.fieldTransforms)}function WC(r,t,n,s,o,c){const f=r.ju(1,t,n),p=[fm(t,s,n)],g=[o];if(c.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(fm(t,c[R])),g.push(c[R+1]);const _=[],A=un.empty();for(let R=p.length-1;R>=0;--R)if(!f0(_,p[R])){const V=p[R];let j=g[R];j=Ie(j);const $=f.Ku(V);if(j instanceof Ah)_.push(V);else{const Q=Xl(j,$);Q!=null&&(_.push(V),A.set(V,Q))}}const w=new yn(_);return new o0(A,w,f.fieldTransforms)}function ZC(r,t,n,s=!1){return Xl(n,r.ju(s?4:3,t))}function Xl(r,t){if(h0(r=Ie(r)))return sp("Unsupported field value:",t,r),c0(r,t);if(r instanceof ep)return function(s,o){if(!l0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const p of s){let g=Xl(p,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=Ie(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Yc(o.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,c)}}if(s instanceof np)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof to)return{bytesValue:OT(o.serializer,s._byteString)};if(s instanceof $e){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ip)return function(f,p){return{mapValue:{fields:{[sT]:{stringValue:aT},[Hc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.Wu("VectorValues must only contain numeric values.");return Mm(p.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${_h(s)}`)}(r,t)}function c0(r,t){const n={};return JE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,(s,o)=>{const c=Xl(o,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function h0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof np||r instanceof to||r instanceof $e||r instanceof ep||r instanceof ip)}function sp(r,t,n){if(!h0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=_h(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function fm(r,t,n){if((t=Ie(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return ap(r,t);throw Jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const JC=new RegExp("[~\\*/\\[\\]]");function ap(r,t,n){if(t.search(JC)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Eh(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jc(r,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new rt(Y.INVALID_ARGUMENT,p+r+g)}function f0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(op("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tD extends d0{data(){return super.data()}}function op(r,t){return typeof t=="string"?ap(r,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lp{}class eD extends lp{}function eo(r,t,...n){let s=[];t instanceof lp&&s.push(t),s=s.concat(n),function(c){const f=c.filter(g=>g instanceof up).length,p=c.filter(g=>g instanceof Sh).length;if(f>1||f>0&&p>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Sh extends eD{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Sh(t,n,s)}_apply(t){const n=this._parse(t);return p0(t._query,n),new Qs(t.firestore,t.converter,em(t._query,n))}_parse(t){const n=Th(t.firestore);return function(c,f,p,g,_,A,w){let R;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){$v(w,A);const j=[];for(const $ of w)j.push(Xv(g,c,$));R={arrayValue:{values:j}}}else R=Xv(g,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||$v(w,A),R=ZC(p,f,w,A==="in"||A==="not-in");return _e.create(_,A,R)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function nD(r,t,n){const s=t,o=op("where",r);return Sh._create(o,s,n)}class up extends lp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new up(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)p0(f,g),f=em(f,g)}(t._query,n),new Qs(t.firestore,t.converter,em(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xv(r,t,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(t)&&n.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!ht.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cv(r,new ht(s))}if(n instanceof $e)return cv(r,n._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function $v(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function p0(r,t){const n=function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iD{convertValue(t,n="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return is(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,o;const c=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Hc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ce(f.doubleValue));return new ip(c)}convertGeoPoint(t){return new np(ce(t.latitude),ce(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=oh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const n=$r(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);Ft(UT(s));const o=new Vl(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return o.isEqual(n)||$i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _0 extends d0{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(op("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Vc extends _0{data(t={}){return super.data(t)}}class y0{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Tl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Vc(this._firestore,this._userDataWriter,s.key,s,new Tl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Tl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Tl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),A=f.indexOf(p.doc.key)),{type:rD(p.type),doc:g,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r){r=cn(r,$e);const t=cn(r.firestore,Zi);return jC(vh(t),r._key).then(n=>E0(t,r,n))}class cp extends iD{constructor(t){super(),this.firestore=t}convertBytes(t){return new to(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function hp(r){r=cn(r,Qs);const t=cn(r.firestore,Zi),n=vh(t),s=new cp(t);return m0(r._query),qC(n,r._query).then(o=>new y0(t,s,r,o))}function aD(r,t,n){r=cn(r,$e);const s=cn(r.firestore,Zi),o=g0(r.converter,t);return bh(s,[u0(Th(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ln.none())])}function th(r,t,n,...s){r=cn(r,$e);const o=cn(r.firestore,Zi),c=Th(o);let f;return f=typeof(t=Ie(t))=="string"||t instanceof Eh?WC(c,"updateDoc",r._key,t,n,s):$C(c,"updateDoc",r._key,t),bh(o,[f.toMutation(r._key,Ln.exists(!0))])}function dm(r){return bh(cn(r.firestore,Zi),[new km(r._key,Ln.none())])}function v0(r,t){const n=cn(r.firestore,Zi),s=Qi(r),o=g0(r.converter,t);return bh(n,[u0(Th(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function Ul(r,...t){var n,s,o;r=Ie(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Yv(t[f])||(c=t[f],f++);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Yv(t[f])){const w=t[f];t[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),t[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),t[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,_,A;if(r instanceof $e)_=cn(r.firestore,Zi),A=lh(r._key.path),g={next:w=>{t[f]&&t[f](E0(_,r,w))},error:t[f+1],complete:t[f+2]};else{const w=cn(r,Qs);_=cn(w.firestore,Zi),A=w._query;const R=new cp(_);g={next:V=>{t[f]&&t[f](new y0(_,R,w,V))},error:t[f+1],complete:t[f+2]},m0(r._query)}return function(R,V,j,$){const Q=new tp($),ut=new Wm(V,Q,j);return R.asyncQueue.enqueueAndForget(async()=>Ym(await Zc(R),ut)),()=>{Q.su(),R.asyncQueue.enqueueAndForget(async()=>Xm(await Zc(R),ut))}}(vh(_),A,p,g)}function bh(r,t){return function(s,o){const c=new Ki;return s.asyncQueue.enqueueAndForget(async()=>DC(await BC(s),o,c)),c.promise}(vh(r),t)}function E0(r,t,n){const s=n.docs.get(t._key),o=new cp(r);return new _0(r,o,t._key,s,new Tl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){ro=o})(no),Qa(new zs("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Zi(new JR(s.getProvider("auth-internal")),new nI(f,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(_.options.projectId,A)}(f,o),f);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Gr(Jy,tv,t),Gr(Jy,tv,"esm2017")})();const oD={apiKey:"AIzaSyC34xsz6ZdMgFwY_tG6egzXZG-DtYAnpUM",authDomain:"control-de-stock-ad426.firebaseapp.com",projectId:"control-de-stock-ad426",storageBucket:"control-de-stock-ad426.firebasestorage.app",messagingSenderId:"241256509463",appId:"1:241256509463:web:b50a0292da4481c9816c52"},T0=sE(oD),Yr=XR(T0),Ue=GC(T0);function lD({usuario:r}){const[t,n]=Wt.useState(""),[s,o]=Wt.useState(""),c=async()=>{try{const _=(await kw(Yr,t,s)).user;await aD(Qi(Ue,"usuarios",_.uid),{email:_.email}),console.log("Usuario registrado:",_)}catch(g){console.error("Error registrando usuario:",g.message)}},f=async()=>{try{await Pw(Yr,t,s)}catch(g){console.error("Error iniciando sesión:",g.message)}},p=async()=>{try{await xw(Yr)}catch(g){console.error("Error cerrando sesión:",g.message)}};return Z.jsxs("div",{className:"auth",children:[r?null:Z.jsx("h1",{children:"Control de Stock"}),r?Z.jsx("button",{onClick:p,children:"Cerrar Sesión"}):Z.jsxs("div",{className:"auth__form",children:[r?null:Z.jsx("h2",{children:"Autenticación"}),Z.jsxs("div",{className:"auth__inputs",children:[Z.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:g=>n(g.target.value)}),Z.jsx("input",{type:"password",placeholder:"Contraseña",value:s,onChange:g=>o(g.target.value)}),r?null:Z.jsx("p",{children:"Inicia sesión para ver tu stock."})]}),Z.jsx("hr",{}),Z.jsxs("div",{className:"auth__buttons",children:[Z.jsx("button",{onClick:f,children:Z.jsx("span",{children:"Iniciar Sesión"})}),Z.jsx("button",{onClick:c,children:Z.jsx("span",{children:"Registrarse"})})]}),Z.jsx("div",{})]}),Z.jsx("div",{children:Z.jsx("p",{children:"acá va el fla del copy y la marca "})})]})}function uD(){const[r,t]=Wt.useState(""),[n,s]=Wt.useState(1),[o,c]=Wt.useState(""),[f,p]=Wt.useState([]),[g,_]=Wt.useState(null);Wt.useEffect(()=>{const R=ql(Yr,V=>{_(V),V?A(V.uid):p([])});return()=>R()},[]);const A=R=>{const V=eo(di(Ue,`stocks/${R}/distribuidores`));return Ul(V,j=>{const $=j.docs.map(Q=>({id:Q.id,...Q.data()}));p($)})},w=async()=>{if(!r.trim()||!o)return alert("Faltan datos");try{await v0(di(Ue,`stocks/${g.uid}/productos`),{nombre:r,cantidadDeseada:parseInt(n),cantidadActual:0,distribuidorId:o}),t(""),s(1),c("")}catch(R){console.error("Error agregando producto:",R)}};return Z.jsxs("div",{children:[Z.jsx("h2",{children:"Agregar Producto"}),Z.jsx("input",{type:"text",placeholder:"Nombre del producto",value:r,onChange:R=>t(R.target.value)}),Z.jsx("input",{type:"number",min:"1",value:n,onChange:R=>s(parseInt(R.target.value))}),Z.jsxs("select",{value:o,onChange:R=>c(R.target.value),children:[Z.jsx("option",{value:"",children:"Selecciona un distribuidor"}),f.map(R=>Z.jsx("option",{value:R.id,children:R.nombre},R.id))]}),Z.jsx("button",{onClick:w,children:"Agregar"})]})}function cD(){const[r,t]=Wt.useState(""),[n,s]=Wt.useState("#000000"),[o,c]=Wt.useState([]),[f,p]=Wt.useState(null);Wt.useEffect(()=>{const V=ql(Yr,j=>{p(j),j?g(j.uid):c([])});return()=>V()},[]);const g=V=>{const j=eo(di(Ue,`stocks/${V}/distribuidores`));return Ul(j,$=>{const Q=$.docs.map(ut=>({id:ut.id,...ut.data()}));c(Q)})},_=async()=>{if(!r.trim())return alert("El nombre no puede estar vacío");try{await v0(di(Ue,`stocks/${f.uid}/distribuidores`),{nombre:r,color:n}),t(""),s("#000000")}catch(V){console.error("Error agregando distribuidor:",V)}},A=async(V,j)=>{if(j.trim())try{const $=Qi(Ue,`stocks/${f.uid}/distribuidores`,V);await th($,{nombre:j})}catch($){console.error("Error editando distribuidor:",$)}},w=async(V,j)=>{try{const $=Qi(Ue,`stocks/${f.uid}/distribuidores`,V);await th($,{color:j}),c(Q=>Q.map(ut=>ut.id===V?{...ut,color:j}:ut))}catch($){console.error("Error actualizando color:",$)}},R=async V=>{if(window.confirm("¿Seguro que quieres eliminar este distribuidor y todos sus productos?"))try{const $=di(Ue,`stocks/${f.uid}/productos`),Q=eo($,nD("distribuidorId","==",V)),ft=(await hp(Q)).docs.map(Lt=>dm(Lt.ref));await Promise.all(ft);const _t=Qi(Ue,`stocks/${f.uid}/distribuidores`,V);await dm(_t),console.log("Distribuidor y productos eliminados correctamente")}catch($){console.error("Error eliminando distribuidor y productos:",$)}};return Z.jsxs("div",{children:[Z.jsx("h2",{children:"Distribuidores"}),Z.jsx("input",{type:"text",placeholder:"Nombre",value:r,onChange:V=>t(V.target.value)}),Z.jsx("input",{type:"color",value:n,onChange:V=>s(V.target.value)}),Z.jsx("button",{onClick:_,children:"Agregar"}),Z.jsx(uD,{}),Z.jsx("ul",{children:o.map(V=>Z.jsxs("li",{style:{backgroundColor:V.color,padding:"10px",margin:"5px",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Z.jsx("span",{children:V.nombre}),Z.jsxs("div",{children:[Z.jsx("input",{type:"color",value:V.color,onChange:j=>w(V.id,j.target.value)}),Z.jsx("button",{onClick:()=>{const j=prompt("Nuevo nombre:",V.nombre);j!==null&&A(V.id,j)},children:"✏️"}),Z.jsx("button",{onClick:()=>R(V.id),children:"🗑️"})]})]},V.id))})]})}function hD(){const[r,t]=Wt.useState([]),[n,s]=Wt.useState([]),[o,c]=Wt.useState(null);Wt.useEffect(()=>{const w=ql(Yr,R=>{c(R),R?(f(R.uid),p(R.uid)):(s([]),t([]))});return()=>w()},[]);const f=w=>{const R=eo(di(Ue,`stocks/${w}/distribuidores`));return Ul(R,V=>{const j=V.docs.map($=>({id:$.id,...$.data()}));s(j)})},p=w=>{const R=eo(di(Ue,`stocks/${w}/productos`));return Ul(R,V=>{const j=V.docs.map($=>({id:$.id,...$.data()}));t(j)})},g=async(w,R)=>{if(!(R<0||!Number.isInteger(R)))try{const V=Qi(Ue,`stocks/${o.uid}/productos`,w);await th(V,{cantidadActual:R})}catch(V){console.error("Error al actualizar cantidad:",V)}},_=async(w,R,V)=>{try{const j=Qi(Ue,`stocks/${o.uid}/productos`,w);await th(j,{nombre:R,cantidadDeseada:V})}catch(j){console.error("Error al editar producto:",j)}},A=async w=>{if(window.confirm("¿Seguro que quieres eliminar este producto?"))try{const V=Qi(Ue,`stocks/${o.uid}/productos`,w);await dm(V)}catch(V){console.error("Error eliminando producto:",V)}};return Z.jsxs("div",{children:[Z.jsx("h2",{children:"Lista de Productos"}),n.map(w=>Z.jsxs("div",{children:[Z.jsx("h3",{style:{backgroundColor:w.color,padding:"5px",color:"#fff"},children:w.nombre}),Z.jsxs("table",{border:"1",width:"100%",children:[Z.jsx("thead",{children:Z.jsxs("tr",{children:[Z.jsx("th",{children:"Nombre"}),Z.jsx("th",{children:"Cantidad Deseada"}),Z.jsx("th",{children:"Cantidad Actual"}),Z.jsx("th",{children:"Acciones"})]})}),Z.jsx("tbody",{children:r.filter(R=>R.distribuidorId===w.id).map(R=>Z.jsxs("tr",{style:{backgroundColor:w.color+"20"},children:[Z.jsx("td",{children:Z.jsx("input",{type:"text",value:R.nombre,disabled:!R.editando,onChange:V=>{const j=V.target.value;t($=>$.map(Q=>Q.id===R.id?{...Q,nombre:j}:Q))}})}),Z.jsx("td",{children:Z.jsx("input",{type:"number",value:R.cantidadDeseada,disabled:!R.editando,onChange:V=>{const j=parseInt(V.target.value);t($=>$.map(Q=>Q.id===R.id?{...Q,cantidadDeseada:j}:Q))}})}),Z.jsxs("td",{children:[Z.jsx("button",{onClick:()=>g(R.id,R.cantidadActual-1),children:"-"}),Z.jsx("input",{type:"number",value:R.cantidadActual,onChange:V=>g(R.id,parseInt(V.target.value)),min:"0"}),Z.jsx("button",{onClick:()=>g(R.id,R.cantidadActual+1),children:"+"})]}),Z.jsxs("td",{children:[Z.jsx("button",{onClick:()=>{R.editando&&_(R.id,R.nombre,R.cantidadDeseada),t(V=>V.map(j=>j.id===R.id?{...j,editando:!j.editando}:j))},children:R.editando?"Guardar":"Editar"}),Z.jsx("button",{onClick:()=>A(R.id),children:"🗑️"})]})]},R.id))})]})]},w.id))]})}function fD(){const[r,t]=Wt.useState([]),[n,s]=Wt.useState({}),[o,c]=Wt.useState(null);Wt.useEffect(()=>{const g=ql(Yr,_=>{c(_)});return()=>g()},[]),Wt.useEffect(()=>{o?(f(o.uid),p(o.uid)):(t([]),s({}))},[o]);const f=async g=>{const _=di(Ue,`stocks/${g}/distribuidores`),A=await hp(_),w={};A.forEach(R=>{w[R.id]={nombre:R.data().nombre,color:R.data().color}}),s(w)},p=g=>{const _=di(Ue,`stocks/${g}/productos`),A=eo(_);return Ul(A,async w=>{const R=[];for(const V of w.docs){const j=V.data();if(j.cantidadActual<j.cantidadDeseada){const $=Qi(Ue,`stocks/${g}/distribuidores`,j.distribuidorId),Q=await sD($),ut=Q.exists()?Q.data().nombre:"Desconocido";R.push({nombre:j.nombre,faltante:j.cantidadDeseada-j.cantidadActual,distribuidorId:j.distribuidorId,distribuidorNombre:ut})}}R.sort((V,j)=>V.distribuidorNombre.localeCompare(j.distribuidorNombre)),t(R)})};return Z.jsxs("div",{children:[Z.jsx("h2",{children:"Productos Faltantes de Stock"}),Z.jsxs("table",{border:"1",children:[Z.jsx("thead",{children:Z.jsxs("tr",{children:[Z.jsx("th",{children:"Distribuidor"}),Z.jsx("th",{children:"Nombre Producto"}),Z.jsx("th",{children:"Faltante"})]})}),Z.jsx("tbody",{children:r.length===0?Z.jsx("tr",{children:Z.jsx("td",{colSpan:"3",children:"No hay productos faltantes."})}):r.map((g,_)=>{var A;return Z.jsxs("tr",{style:{backgroundColor:((A=n[g.distribuidorId])==null?void 0:A.color)||"white"},children:[Z.jsx("td",{children:g.distribuidorNombre}),Z.jsx("td",{children:g.nombre}),Z.jsx("td",{children:g.faltante})]},_)})})]})]})}function dD(){const[r,t]=Wt.useState(null),[n,s]=Wt.useState(null);Wt.useEffect(()=>{const c=ql(Yr,async f=>{f?(t(f),await o(f.uid)):(t(null),s(null))});return()=>c()},[]);const o=async c=>{try{(await hp(di(Ue,`stocks/${c}/test`))).forEach(p=>{console.log(p.id," => ",p.data())})}catch(f){console.error("Error conectando a Firestore:",f)}};return Z.jsxs("div",{className:"page",children:[Z.jsx(lD,{usuario:r}),r?Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{children:[Z.jsx("button",{onClick:()=>s(n==="distribuidores"?null:"distribuidores"),children:"Distribuidores"}),Z.jsx("button",{onClick:()=>s(n==="productos"?null:"productos"),children:"Lista de Productos"}),Z.jsx("button",{onClick:()=>s(n==="faltantes"?null:"faltantes"),children:"Faltantes de Stock"})]}),Z.jsx("hr",{}),n==="distribuidores"&&Z.jsx(cD,{}),n==="productos"&&Z.jsx(hD,{}),n==="faltantes"&&Z.jsx(fD,{})]}):null]})}eS.createRoot(document.getElementById("root")).render(Z.jsx(Wt.StrictMode,{children:Z.jsx(dD,{})}));
